<?xml version="1.0" encoding="ASCII"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.eclipse.org/sirius/description/1.1.0" xmlns:description_1="http://www.eclipse.org/sirius/table/description/1.1.0" xmlns:description_2="http://www.eclipse.org/sirius/diagram/description/1.1.0" xmlns:description_3="http://www.eclipse.org/sirius/diagram/sequence/description/2.0.0" xmlns:filter="http://www.eclipse.org/sirius/diagram/description/filter/1.1.0" xmlns:style="http://www.eclipse.org/sirius/diagram/description/style/1.1.0" xmlns:tool="http://www.eclipse.org/sirius/description/tool/1.1.0" xmlns:tool_1="http://www.eclipse.org/sirius/diagram/description/tool/1.1.0" xmlns:tool_2="http://www.eclipse.org/sirius/diagram/sequence/description/tool/2.0.0" version="11.0.0.201601261200">
  <ownedViewpoints name="Operational Analysis" modelFileExtension="melodymodeller">
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Operational Activities - Requirements" domainClass="OperationalAnalysis">
      <ownedLineMappings name="Operational Activity" domainClass="OperationalActivity" semanticCandidatesExpression="&lt;%getTableRootAbstractFunctions()%>" headerLabelExpression="feature:name">
        <ownedSubLines name="Sub Operational Activity" reusedSubLines="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity%20Pkg'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity']" reusedInMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='FunctionPkgs'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity%20Pkg']" domainClass="OperationalActivity" semanticCandidatesExpression="&lt;%getOwnedAbstractFunctions()%>" headerLabelExpression="feature:name">
          <delete name="No delete" precondition="false">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
          </delete>
        </ownedSubLines>
        <ownedSubLines name="Sub Operational Activity Pkg" reusedSubLines="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity%20Pkg']" reusedInMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity%20Pkg'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='FunctionPkgs']" domainClass="FunctionPkg" semanticCandidatesExpression="&lt;%getOwnedAbstractFunctionPkgs()%>" headerLabelExpression="feature:name">
          <delete name="No delete" precondition="false">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
          </delete>
        </ownedSubLines>
        <delete name="No delete" precondition="false">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
        </delete>
      </ownedLineMappings>
      <ownedLineMappings name="FunctionPkgs" reusedSubLines="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity%20Pkg']" domainClass="FunctionPkg" semanticCandidatesExpression="&lt;%getTableRootAbstractFunctionPkgs()%>">
        <delete name="No delete" precondition="false">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="Requirements 3" headerLabelExpression="&lt;%getRequirementElementLabel()%>" domainClass="Requirement">
        <delete name="No delete" precondition="false">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
        </delete>
      </ownedColumnMappings>
      <intersection name="Trace 3" canEdit="true" lineMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedLineMappings[name='Operational%20Activity']/@ownedSubLines[name='Sub%20Operational%20Activity']" columnMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activities%20-%20Requirements']/@ownedColumnMappings.0" labelExpression="X" useDomainClass="true" columnFinderExpression="feature:targetElement" lineFinderExpression="feature:sourceElement" domainClass="RequirementsTrace">
        <directEdit>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0 == &quot;&quot; &amp;&amp; $lineSemantic.ownedTraces.filter(&quot;RequirementsTrace&quot;)[targetElement == $columnSemantic &amp;&amp; sourceElement == $lineSemantic].nSize() > 0%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$lineSemantic.ownedTraces.filter(&quot;RequirementsTrace&quot;)[targetElement == $columnSemantic &amp;&amp; sourceElement == $lineSemantic].nFirst()%>">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="TR3" forceRefresh="true">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="&lt;%$lineSemantic%>">
            <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$0 == &quot;X&quot;%>">
              <subModelOperations xsi:type="tool:CreateInstance" typeName="RequirementsTrace" referenceName="ownedTraces">
                <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$lineSemantic%>"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;%$columnSemantic%>"/>
              </subModelOperations>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Entity Breakdown" titleExpression="[OEBD] &lt;%current.name%>" domainClass="Component" preconditionExpression="&lt;%(current.isA(&quot;Entity&quot;) &amp;&amp; !current.isA(&quot;OperationalActor&quot;)) || current.isA(&quot;OperationalContext&quot;) || current.isA(&quot;EntityPkg&quot;) %>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.activity.gen/model/Activity.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.behavior.gen/model/Behavior.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CompositeStructure.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/ContextArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/EPBSArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/FunctionalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Interaction.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/LogicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCommon.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaModeller.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.core.gen/model/ModellingCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/OperationalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/PhysicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Requirement.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/SharedModel.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//communication"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datatype"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datavalue"/>
      <metamodel href="http://www.eclipse.org/emf/2002/Ecore#/"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <layout xsi:type="description_2:OrderedTreeLayout" childrenExpression="&lt;% ownedPartitions.abstractType %>" nodeMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']"/>
      <defaultLayer name="default layer">
        <nodeMappings name="OEB_OperationalEntities" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20OEB']" semanticCandidatesExpression="service:getOEBScopeBreakdown()" semanticElements="" domainClass="Component">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Blank']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Role%20Blank']"/>
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
            <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%current == $container%>">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
              <labelFormat>bold</labelFormat>
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;% filter (&quot;OperationalActor&quot;).nSize > 0 %>">
            <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/Actor.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <edgeMappings name="containedIn Mapping" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20containment']" semanticCandidatesExpression="&lt;%current.eAllContents%>" semanticElements="&lt;%eContainer(&quot;OperationalAnalysis&quot;).eAllContents().filter(&quot;Part&quot;)[abstractType==current(1)]%>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']" targetFinderExpression="service:getLogicalParent()" sourceFinderExpression="feature:type" domainClass="cs.Part" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='changeContainer']">
          <style routingStyle="tree" foldingStyle="TARGET">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Entities">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Entity in the target Entity" name="Operational Entity" forceRefresh="true" elementsToSelect="&lt;%selectOnlyCreatedView()%>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Entity.gif" extraMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.createEntity()%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CreateView" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.CreateViewAction">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% current %>"/>
                  <parameters name="containerViewExpression" value="&lt;%$containerView.getDiagramContainer()%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Actor in the target Entity" name="Operational Actor" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;)%>" forceRefresh="true" elementsToSelect="&lt;%selectOnlyCreatedView()%>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActor.gif" extraMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@nodeMappings[name='OEB_OperationalEntities']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.createOperationalActor()%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CreateView" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.CreateViewAction">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% current %>"/>
                  <parameters name="containerViewExpression" value="&lt;%$containerView.getDiagramContainer()%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Sets the target Operational Entity as the new container of the source Operational Entity" name="Contained In" precondition="&lt;% ($preTarget.filter(&quot;OperationalActor&quot;).nSize == 0)  &amp;&amp; $preSource.isValidDndABDComponent($preTargetView)%>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@edgeMappings[name='containedIn%20Mapping']" iconPath="/org.polarsys.capella.core.sirius.analysis/description/images/containedIn.png">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.dndABDComponent($source.eContainer, $target)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="changeContainer" precondition="&lt;% !$target.isA(&quot;OperationalActor&quot;) &amp;&amp; $element.isValidDndABDComponent($targetView)%>" forceRefresh="true">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.dndABDComponent($source, $target)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="delete containment" forceRefresh="true">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.sourceNode.target.dndABDComponent($elementView.sourceNode.target.eContainer, $containerView.target)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="capellaElement" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>" forceRefresh="true">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CapellaDeleteExternalAction" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="Rename OEB" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Activity Interaction Blank" titleExpression="[OAIB] &lt;%current.name%>" domainClass="AbstractFunctionalChainContainer" preconditionExpression="&lt;%isA(&quot;OperationalActivity&quot;) || isA(&quot;OperationalCapability&quot;) %>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20DF%20AbstractFunction']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20OperationalActivity%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.activity.gen/model/Activity.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.behavior.gen/model/Behavior.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CompositeStructure.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/ContextArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/EPBSArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/FunctionalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Interaction.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/LogicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCommon.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaModeller.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.core.gen/model/ModellingCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/OperationalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/PhysicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Requirement.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/SharedModel.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//communication"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datatype"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datavalue"/>
      <metamodel href="http://www.eclipse.org/emf/2002/Ecore#/"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Interactions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@edgeMappings[name='OAIB%20Interaction']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems" label="Show [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" semanticConditionExpression="">
          <mappings xsi:type="description_2:NodeMapping" href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Data%20Flow%20Blank']/@defaultLayer/@nodeMappings[name='SDFB_Dummy']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems parameters" label="Show EI1(param1:type1, param2:type2), EI2(param3:type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems]" label="Show I [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges (Parameters)" label="Show I (type1, type2, type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems(Parameters)]" label="Show I [EI1(param1:type1, param2:type2), EI2(param3:type3)]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Interactions names">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Architecture%20Blank']/@defaultLayer/@nodeMappings[name='CA%20Dummy']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <defaultLayer name="default layer">
        <nodeMappings name="OAIB_OperationalProcessEnd" detailDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Process%20Description']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Process%20Description']" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="" createElements="false" semanticElements="" domainClass="OperationalProcess">
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getFunctionalChainLabel($diagram) %>" sizeComputationExpression="1" resizeKind="NSEW" width="2" height="2">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="OAIB_Dummy" semanticCandidatesExpression="ocl:Set {}" domainClass="EObject"/>
        <edgeMappings name="OAIB Interaction" preconditionExpression="&lt;% getInteractionSourceInDiagram($diagram) != getInteractionTargetInDiagram($diagram) %>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="service:diagram.getDFFunctionalExchangeSemanticCandidates" semanticElements="var:self" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']" targetFinderExpression="service:getInteractionTargetInDiagram(diagram)" sourceFinderExpression="service:getInteractionSourceInDiagram(diagram)" domainClass="FunctionalExchange" useDomainElement="true" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='OAIB%20Reconnect%20Exchanges']">
          <style>
            <strokeColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <centerLabelStyleDescription labelExpression="&lt;%getFunctionalExchangeLabel($diagram)%>">
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="OAIB Operational Activity" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="" createElements="false" semanticElements="" domainClass="OperationalActivity" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20DF%20AbstractFunction'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20OperationalActivity%20From%20Project%20Explorer']" reusedContainerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Interaction%20Blank']"/>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="18" arcHeight="18" borderSizeComputationExpression="1" labelExpression="&lt;%$view.computeFunctionLabel%>" roundedCorner="true" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xDF_Activity_Label_Orange']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange_min']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
          </style>
          <conditionnalStyles predicateExpression="service:isDuplicateFunction()">
            <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="5" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/FunctionKind_Duplicate.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="service:isGatherFunction()">
            <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="5" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/FunctionKind_Gather.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="service:isRouteFunction()">
            <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="5" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/FunctionKind_Route.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="service:isSelectFunction()">
            <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="5" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/FunctionKind_Select.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="service:isSplitFunction()">
            <style xsi:type="style:WorkspaceImageDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="5" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/FunctionKind_Split.png">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </containerMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Activities">
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Activity " name="Operational Activity" precondition="&lt;%$containerView.isValidCreationDFFunction() %>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.getDFTarget()%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isFunction()%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current.createFunction()%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%allocateToCapability($containerView)%>"/>
                    <subModelOperations xsi:type="tool:ExternalJavaAction" name="CreateView" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.CreateViewAction">
                      <parameters name="context" value="&lt;% $container %>"/>
                      <parameters name="scope" value="&lt;% current %>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new Interaction between the source and target Operational Activities" name="Interaction" precondition="&lt;%isValidCreationFunctionalExchange($preSource, $preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@edgeMappings[name='OAIB%20Interaction']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalExchange_OA.gif" connectionStartPrecondition="&lt;%isValidCreationFunctionalExchange($preSource)%>">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.createDFFunctionalExchange($sourceView, $targetView)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Operational Activities. Create or delete graphical objects corresponding to already existing Operational Activities. Removing an Operational Activity graphical object from the diagram does not delete the Operational Activity from the model. This tool does not modify the semantic model." name="Show/Hide Operational Activity" label="Operational Activities" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleFunctions" computationExpression="&lt;% $elementView.getDisplayedAbstractFunctions()[allocationBlocks.filter(&quot;AbstractActor&quot;).nSize() == 0]%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleFunctionViews" computationExpression="&lt;% $elementView.getDisplayedAbstractFunctionViews()[target.allocationBlocks.filter(&quot;AbstractActor&quot;).nSize() == 0]%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectFunctions" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView %>"/>
                  <parameters name="scope" value="&lt;% $elementView.getAvailableAbstractFunctionsToInsertInDataFlowBlank()[allocationBlocks.filter(&quot;AbstractActor&quot;).nSize() == 0]%>"/>
                  <parameters name="resultVariable" value="selectedFunctions"/>
                  <parameters name="wizardMessage" value="Select Functions and ControlNodes to show in &lt;%$element.name%>."/>
                  <parameters name="initialSelection" value="&lt;% $visibleFunctions%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctions == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="ShowHideFunctions" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.ShowHideFunctions">
                    <parameters name="view" value="&lt;%$elementView%>"/>
                    <parameters name="selected functions" value="&lt;%$selectedFunctions%>"/>
                    <parameters name="visible functions" value="&lt;%$visibleFunctions%>"/>
                    <parameters name="visible function views" value="&lt;%$visibleFunctionViews%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Interactions. Create or delete graphical objects corresponding to already existing Interactions and the corresponding source/target Operational Activities if they are not present on the diagram yet. Removing an Interaction graphical object from the diagram does not delete the Interaction from the model. This tool does not modify the semantic model." name="Show/Hide Interaction" label="Interactions" precondition="&lt;%($elementView.target.filter(&quot;AbstractFunction&quot;).nSize() > 0) &amp;&amp; ($elementView.filter(&quot;DDiagram&quot;).nSize() == 0) %>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="displayedExchanges" computationExpression="&lt;%$elementView.getDisplayedFunctionalExchanges%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="scope" computationExpression="&lt;%getAvailableFunctionalExchangesToInsert()%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $element%>"/>
                  <parameters name="scope" value="&lt;%$scope%>"/>
                  <parameters name="initialSelection" value="&lt;%$displayedExchanges%>"/>
                  <parameters name="resultVariable" value="selectedExchanges"/>
                  <parameters name="wizardMessage" value="Select Functional Exchanges to show in &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedExchanges != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.showDFFunctionalExchange($scope, $selectedExchanges )%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Insert/Remove Operational Processes. Create or delete graphical objects corresponding to already existing Operational Processes. Removing an Operational Process graphical object from the diagram does not delete the Operational Process from the model. This tool does not modify the semantic model." name="Operational Processes" label="Operational Processes" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@nodeMappings[name='OAIB_OperationalProcessEnd']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="ownedElements" computationExpression="&lt;%$containerView.getSetOfDiagramElements()%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="initialSelection" computationExpression="&lt;%$containerView.getNodesAndNodeListElements()[visible &amp;&amp; target.filter(&quot;FunctionalChain&quot;).nSize() > 0].target%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;%$containerView.getDiagramContainer()%>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectFunctionalChains" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;%getFunctionalChainsToInsert($containerView, $container.getAllFunctionalChain())%>"/>
                  <parameters name="initialSelection" value="&lt;%$initialSelection%>"/>
                  <parameters name="resultVariable" value="selectedFunctionalChains"/>
                  <parameters name="wizardMessage" value="Select Operartional Processes to show  in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctionalChains == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$initialSelection%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$selectedFunctionalChains.nContains($i)%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$diagram.target.isA(&quot;AbstractCapability&quot;)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $diagram.target.removeFunctionalChainAbstractCapabilityInvolvement($i)%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getNodesAndNodeListElements()[target == $i].nFirst%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedFunctionalChains - $initialSelection%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$diagram.target.isA(&quot;AbstractCapability&quot;)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $diagram.target.createFunctionalChainAbstractCapabilityInvolvement($i)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@nodeMappings[name='OAIB_OperationalProcessEnd']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="capellaElement" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CapellaDeleteExternalAction" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="DnD DF AbstractFunction" precondition="&lt;%$element.isValidDndDFBAbstractFunction($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.dndDFAbstractFunction($oldSemanticContainer, $newSemanticContainer)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D OperationalActivity From Project Explorer" precondition="&lt;% $element.isA(&quot;OperationalActivity&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']" dragSource="PROJECT_EXPLORER" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% !$newContainerView.getDiagramContainer().target.isA(&quot;AbstractFunction&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newContainerView.getDiagramContainer().target%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="AbstractFunctionAbstractCapabilityInvolvement" referenceName="ownedAbstractFunctionAbstractCapabilityInvolvements" variableName="involvement">
                      <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$element%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="OAIB Reconnect Exchanges" precondition="&lt;% $element.isFunctionalExchangeReconnectable($sourceView.getDiagramContainer(), $source, $target) %>" reconnectionKind="RECONNECT_BOTH">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element.reconnectFunctionalExchange($source,$target) %>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="name" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:PopupMenu" name="Operational Process">
            <menuItemDescription xsi:type="tool:OperationAction" name="Create an Operational Process" precondition="&lt;%isValidFunctionalChainSelection($views)%>" forceRefresh="true">
              <view name="views"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createFunctionalChain($views)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%current.isA(&quot;FunctionalChain&quot;)%>">
                    <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@nodeMappings[name='OAIB_OperationalProcessEnd']" containerViewExpression="&lt;%$views.nFirst().getDiagramContainer()%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </menuItemDescription>
          </ownedTools>
        </toolSections>
        <toolSections name="Accelerators">
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert all the Activities available in a given Mode / State. This tool does not modify the semantic model." name="State-Mode Elements" label="Activities from Mode / State" precondition="&lt;%$elementView.isValidDFInsertStateModes()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Mode.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectStates" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;%$element%>"/>
                  <parameters name="scope" value="&lt;%$elementView.getDFInsertStateModesScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="elements"/>
                  <parameters name="wizardMessage" value="Select States/Modes to display all its available functions."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($elements == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.showDFStateModes($elements)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert all the Activities and Interactions contributing to a given Scenario. This tool does not modify the semantic model." name="Scenario Elements" label="Elements from Scenario" precondition="&lt;%$elementView.isValidDFInsertScenarios()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Scenario.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectElements" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;%$element%>"/>
                  <parameters name="scope" value="&lt;%$elementView.getDFInsertScenariosScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="elements"/>
                  <parameters name="wizardMessage" value="Select Scenarios to display all involved elements."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($elements == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.showDFScenarios($elements)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Insert all the Operational Activities and Interactions contributing to a given Operational Process." name="Show Operational Process Elements" label="Operational Process Elements" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@containerMappings[name='OAIB%20Operational%20Activity']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalChain.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="scope" computationExpression="&lt;%$container.getAllFunctionalChain()%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;%$containerView.getDiagramContainer()%>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectFunctions" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;%$scope%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="selectedFunctionalChains"/>
                  <parameters name="wizardMessage" value="Select Operational Processes to display all involved elements  in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctionalChains == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="showHideRelatedElements" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.ShowHideRelatedElements">
                    <parameters name="view" value="&lt;% $containerView%>"/>
                    <parameters name="chains" value="&lt;%$selectedFunctionalChains%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$diagram.target.isA(&quot;AbstractCapability&quot;)%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedFunctionalChains%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $diagram.target.createFunctionalChainAbstractCapabilityInvolvement($i)%>"/>
                      <subModelOperations xsi:type="tool:For" expression="&lt;%$i.getOwnedFunctionalChainInvolvements.involved.filter(&quot;AbstractFunction&quot;)%>" iteratorName="j">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $diagram.target.createAbstractFunctionAbstractCapabilityInvolvement($j)%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="refreshElement" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.RefreshElement">
                    <parameters name="context" value="&lt;% $containerView.getDiagramContainer() %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Entity Blank" label="Operational Architecture Blank" titleExpression="[OAB] &lt;%current.name%>" domainClass="Component" preconditionExpression="&lt;%current.isA(&quot;Entity&quot;) || current.isA(&quot;OperationalContext&quot;) || current.isA(&quot;EntityPkg&quot;) %>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20Entitiy']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.activity.gen/model/Activity.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.behavior.gen/model/Behavior.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CompositeStructure.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/ContextArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/EPBSArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/FunctionalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Interaction.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/LogicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCommon.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaModeller.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.core.gen/model/ModellingCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/OperationalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/PhysicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Requirement.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/SharedModel.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//communication"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datatype"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datavalue"/>
      <metamodel href="http://www.eclipse.org/emf/2002/Ecore#/"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Allocated Interactions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB%20Interaction']" semanticConditionExpression="&lt;%hideAllocatedInteractions()%>"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Activities">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Roles">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Actors">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" semanticConditionExpression="&lt;%! isA(&quot;OperationalActor&quot;)%>"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Interactions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB%20Interaction']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Communication Means">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB_CommunicationMean']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems" label="Show Exchange Items on Interactions">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_Dummy']" semanticConditionExpression=""/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Exchange Items on Component Exchanges" label="Show Exchange Items on Communication Means">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_Dummy']" semanticConditionExpression=""/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Exchange Items on Component Exchange without Functional Exchanges" label="Show Exchange Items on Communication Means (without Interactions)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_Dummy']" semanticConditionExpression=""/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Allocated Functional Exchanges on Component Exchanges" label="Show Allocated Interactions on Communication Means">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_Dummy']" semanticConditionExpression=""/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide cross Functional Exchanges of reusable Components" label="Hide cross Interactions of Roles">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB%20Interaction']" viewConditionExpression="&lt;%target.isValidInteractionEdge(sourceNode,targetNode)%>"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Interactions names">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Architecture%20Blank']/@defaultLayer/@nodeMappings[name='CA%20Dummy']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Communication Means names">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Architecture%20Blank']/@defaultLayer/@nodeMappings[name='CA%20Dummy']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <defaultLayer name="default layer">
        <nodeMappings name="OAB_OperationalProcessEnd" detailDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Process%20Description']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Process%20Description']" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="" createElements="false" semanticElements="" domainClass="OperationalProcess">
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getFunctionalChainLabel($diagram) %>" sizeComputationExpression="1" resizeKind="NSEW" width="2" height="2">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="OAB_Dummy" semanticCandidatesExpression="ocl:Set {}" domainClass="EObject"/>
        <edgeMappings name="OAB_CommunicationMean" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="service:diagram.getABComponentExchangeSemanticCandidates" semanticElements="var:self" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" targetFinderExpression="&lt;% target %>" sourceFinderExpression="&lt;% source %>" domainClass="CommunicationMean" useDomainElement="true" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='Source%20Communication%20Mean'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='Target%20Communication%20Mean']">
          <style targetArrow="InputFillClosedArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%getComponentExchangeLabel($diagram)%>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_gray']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="OAB Interaction" preconditionExpression="service:isValidABFunctionalExchangeEdge(sourceView, targetView)" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="service:diagram.getABFunctionalExchangeSemanticCandidates" semanticElements="var:self" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" targetFinderExpression="service:getInteractionTargetInDiagram(diagram)" sourceFinderExpression="service:getInteractionSourceInDiagram(diagram)" domainClass="FunctionalExchange" useDomainElement="true" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.2/@ownedTools[name='OAIB%20Reconnect%20Exchanges']">
          <style targetArrow="InputFillClosedArrow">
            <strokeColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <centerLabelStyleDescription labelExpression="&lt;%getFunctionalExchangeLabel($diagram)%>">
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="OAB_Entity1" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="" createElements="false" domainClass="Entity" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='change%20role%20allocation'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.2/@ownedTools[name='D%26D%20OperationalActivities%20From%20Project%20Explorer'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20Roles%20From%20Project%20Explorer'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20Entitiy'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20AB%20AbstractFunction%20Allocation']" reusedContainerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Blank']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Role%20Blank']"/>
          <subNodeMappings name="OAB_Activity" preconditionExpression="service:isAllocatedFunction(container, containerView)" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" semanticCandidatesExpression="" createElements="false" domainClass="OperationalActivity">
            <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Breakdown']"/>
            <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Interaction%20Blank']"/>
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
            </style>
            <conditionnalStyles predicateExpression="service:isNotLeaf()">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
                <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                <labelFormat>italic</labelFormat>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
              </style>
            </conditionnalStyles>
          </subNodeMappings>
          <subContainerMappings name="OAB_subRoles" preconditionExpression="&lt;%isAllocatedRole(current, $container)%>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20Role']" semanticCandidatesExpression="" createElements="false" domainClass="Role" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.2/@ownedTools[name='D%26D%20OperationalActivities%20From%20Project%20Explorer%20To%20Role'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='DnD%20AB%20AbstractFunction%20Allocation']" reusedNodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']">
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" backgroundStyle="GradientTopToBottom">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_OperationalRole_Purple']"/>
            </style>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_min']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Entities">
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Entity" name="Operational Entity" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;) || $containerView.isA(&quot;DDiagram&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Entity.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;OperationalActor&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% isA(&quot;OperationalActor&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current.eContainer()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Actor" name="Operational Actor" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;) || $containerView.isA(&quot;DDiagram&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActor.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;OperationalActor&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;OperationalActor&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current.eContainer()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a Communication Mean" name="Communication Mean" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB_CommunicationMean']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.createABComponentExchange($sourceView, $targetView)%> "/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Show Hide Entity">
            <tools xsi:type="tool_1:ContainerCreationDescription" documentation="Insert/Remove Operational Entities. Create or delete graphical objects corresponding to already existing Operational Entities. Removing an Operational Entity graphical object from the diagram does not delete the Operational Entity from the model. This tool does not modify the semantic model." name="Show/Hide OE" label="Operational Entities" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;) || $containerView.isA(&quot;DDiagram&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <variable name="container"/>
              <viewVariable name="containerView">
                <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $containerView.getDiagramContainer() %>"/>
                <subVariables xsi:type="tool:AcceleoVariable" name="componentsInDiagram" computationExpression="&lt;% $containerView.containers.target.filter(&quot;Entity&quot;)[!isA(&quot;OperationalActor&quot;)]%>"/>
              </viewVariable>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.getOEBTarget() %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectSubComponent" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $containerView.getOEBTarget() %>"/>
                    <parameters name="scope" value="&lt;% $containerView.getAvailableEntitiesToInsert()[!isA(&quot;OperationalActor&quot;)] %>"/>
                    <parameters name="resultVariable" value="selection"/>
                    <parameters name="wizardMessage" value="Select Operational Entities to show in &lt;%$container.name%>."/>
                    <parameters name="initialSelection" value="&lt;% $componentsInDiagram %>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selection == &quot;WIZARD_CANCELED&quot;) %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.getOEBTarget() %>">
                      <subModelOperations xsi:type="tool:For" expression="&lt;% $componentsInDiagram - $containerView.target %>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selection.nContains($i)%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.containers[target == $i].nSize > 0 %>">
                            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.containers[target == $i].nFirst %>">
                              <subModelOperations xsi:type="tool:DeleteView"/>
                            </subModelOperations>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:For" expression="&lt;% $selection %>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$componentsInDiagram.nContains($i)%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $i %>">
                            <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" containerViewExpression="&lt;%$diagram%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getDiagramContainer().forceRefresh%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool_1:ContainerCreationDescription" documentation="Insert/Remove Operational Actors. Create or delete graphical objects corresponding to already existing Operational Actors. Removing an Operational Actor graphical object from the diagram does not delete the Operational Actor from the model. This tool does not modify the semantic model." name="Show/Hide OA" label="Operational Actors" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;) || $containerView.isA(&quot;DDiagram&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <variable name="container"/>
              <viewVariable name="containerView">
                <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $containerView.getDiagramContainer() %>"/>
                <subVariables xsi:type="tool:AcceleoVariable" name="componentsInDiagram" computationExpression="&lt;% $containerView.containers.target.filter(&quot;OperationalActor&quot;)%>"/>
              </viewVariable>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.getOEBTarget() %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectSubComponent" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $containerView.getOEBTarget() %>"/>
                    <parameters name="scope" value="&lt;% $containerView.getAvailableEntitiesToInsert()[isA(&quot;OperationalActor&quot;)] %>"/>
                    <parameters name="resultVariable" value="selection"/>
                    <parameters name="wizardMessage" value="Select Operational Actors to show in &lt;%$container.name%>."/>
                    <parameters name="initialSelection" value="&lt;% $componentsInDiagram %>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selection == &quot;WIZARD_CANCELED&quot;) %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.getOEBTarget() %>">
                      <subModelOperations xsi:type="tool:For" expression="&lt;% $componentsInDiagram  %>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selection.nContains($i)%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.containers[target == $i].nSize > 0 %>">
                            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.containers[target == $i].nFirst %>">
                              <subModelOperations xsi:type="tool:DeleteView"/>
                            </subModelOperations>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:For" expression="&lt;% $selection %>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$componentsInDiagram.nContains($i)%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $i %>">
                            <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" containerViewExpression="&lt;%$diagram%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getDiagramContainer().forceRefresh%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Show/Hide Communication Means and Categories">
            <tools xsi:type="tool:ToolDescription" documentation="Insert/Remove Communication Means. Create or delete graphical objects corresponding to already existing Communication Means and the corresponding source/target Operational Entity if they are not present on the diagram yet. Removing a Communication Mean graphical object from the diagram does not delete the Communication Mean from the model. This tool does not modify the semantic model." name="Show/Hide Communication Mean" label="Communication Means" precondition="&lt;%($elementView.target.filter(&quot;Component&quot;).nSize() > 0) &amp;&amp; ($elementView.filter(&quot;DDiagram&quot;).nSize() == 0)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <element name="element"/>
              <elementView name="elementView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="SetVariable $displayedExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                    <parameters name="context" value="&lt;% $elementView%>"/>
                    <parameters name="variable" value="displayedExchanges"/>
                    <parameters name="value" value="&lt;%$elementView.getDisplayedConnections%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                    <parameters name="context" value="&lt;% $element%>"/>
                    <parameters name="scope" value="&lt;%getAvailableConnectionsToInsert()%>"/>
                    <parameters name="initialSelection" value="&lt;%$displayedExchanges%>"/>
                    <parameters name="resultVariable" value="selectedExchanges"/>
                    <parameters name="wizardMessage" value="Select Component Exchanges to show in &lt;%$element.name%>."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedExchanges != &quot;WIZARD_CANCELED&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.insertRemoveCommunicationMeans($selectedExchanges)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="Target Communication Mean" precondition="&lt;%$element.isValidABReconnectComponentExchangeTarget($source, $target)%>" forceRefresh="true">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.reconnectABComponentExchangeTarget($edgeView, $sourceView, $targetView)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="Source Communication Mean" precondition="&lt;%$element.isValidABReconnectComponentExchangeSource($source, $target)%>" forceRefresh="true" reconnectionKind="RECONNECT_SOURCE">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.reconnectABComponentExchangeSource($edgeView, $sourceView, $targetView)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="name" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="OA Role" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="capellaElement" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CapellaDeleteExternalAction" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="delete category">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="NoDeleteElement" id="org.polarsys.capella.core.sirius.analysis.delete.NoDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="DnD AB AbstractFunction Allocation" precondition="&lt;% $newContainer.isA(&quot;Role&quot;) || $newContainer.isA(&quot;Component&quot;) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" moveEdges="true">
            <oldContainer name="oldSemanticContainer">
              <subVariables xsi:type="tool:AcceleoVariable" name="allocations" computationExpression="&lt;%if ($oldSemanticContainer.filter(&quot;Role&quot;).nSize() > 0){%>&lt;%$oldSemanticContainer.ownedActivityAllocations%>&lt;%}else{%>&lt;%$oldSemanticContainer.ownedFunctionalAllocation%>&lt;%}%>"/>
            </oldContainer>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.dndABAbstractFunctionAllocation($oldSemanticContainer, $newSemanticContainer)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="change role allocation" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$oldSemanticContainer.ownedRoleAllocations[targetElement == $element]%>">
                <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.target%>" featureName="ownedRoleAllocations"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$newContainerView.target%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="DnD Entitiy" precondition="&lt;%$element.isA(&quot;OperationalActor&quot;) || ($element.isA(&quot;Entity&quot;) &amp;&amp; !$newViewContainer.target.isA(&quot;OperationalActor&quot;))%>" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.typedElements.nFirst%>">
                <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.getOEBTarget()%>" featureName="ownedFeatures"/>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newContainerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                      <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.getOEBTarget()%>" featureName="ownedEntities"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                      <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.getOEBTarget()%>" featureName="ownedEntities"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                      <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%getRootEntityPkg()%>" featureName="ownedEntities"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Entities From Project Explorer" precondition="&lt;% $element.isA(&quot;Entity&quot;) &amp;&amp; $element.partitionableElementCanBeDropped($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Roles">
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Create a new Role and allocate it to the selected Operational Entity" name="Role" precondition="&lt;%$container.filter(&quot;Entity&quot;).nSize() > 0 %>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.getRootRolePkg() %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Role" referenceName="ownedRoles" variableName="newRole">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="RoleAllocation" referenceName="ownedRoleAllocations">
                  <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $newRole %>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;% $container %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates new allocation relationships between selected Roles and the target Operational Entity. The newly allocated Roles are automatically displayed on the target Operational Entity. This tool modifies the semantic model." name="Manage Role Allocation" label="Manage Role Allocation" precondition="&lt;%$container.filter(&quot;Entity&quot;).nSize() > 0 %>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Manage.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectRoles" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% $container.eContainer(&quot;ModellingArchitecture&quot;).ownedRolePkg.ownedRoles - $container.ownedRoleAllocations.targetElement %>"/>
                  <parameters name="initialSelection" value="&lt;% $container.ownedRoleAllocations.targetElement %>"/>
                  <parameters name="resultVariable" value="selection"/>
                  <parameters name="wizardMessage" value="Select Roles to allocate to &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selection == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;% $selection -  $container.ownedRoleAllocations.targetElement %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="RoleAllocation" referenceName="ownedRoleAllocations" variableName="role">
                        <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$container%>"/>
                        <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;%$i%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;% $container.ownedRoleAllocations.targetElement - $selection %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.ownedRoleAllocations[targetElement == $i] %>">
                      <subModelOperations xsi:type="tool:RemoveElement"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert All Allocated Roles. Create graphical objects for all Roles already allocated to all Operational Entities appearing on the diagram. This tool does not modify the semantic model." name="Show/hide All Allocated Roles" label="All Allocated Roles" precondition="&lt;%$elementView.isA(&quot;DDiagram&quot;)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleEntities" computationExpression="&lt;%$elementView.containers[target.filter(&quot;Entity&quot;)]%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$visibleEntities%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$i.target.ownedRoleAllocations.targetElement%>" iteratorName="j">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! $i.ownedDiagramElements.target.nContains($j)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$j%>">
                          <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" containerViewExpression="&lt;%$i%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Insert/Remove Allocated Roles. Create or delete graphical objects corresponding to already allocated Roles. Removing a Role graphical object from an Operational Entity does not delete the allocation relationship between this Operational Entity and the Role. This tool does not modify the semantic model" name="Show/Hide Allocated Roles" label="Allocated Roles" precondition="&lt;%!$containerView.isA(&quot;DDiagram&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectRoles" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% ownedRoleAllocations.targetElement %>"/>
                  <parameters name="initialSelection" value="&lt;% $containerView.eContents().filter(&quot;DDiagramElement&quot;)[visible].target.filter(&quot;Role&quot;) %>"/>
                  <parameters name="resultVariable" value="element"/>
                  <parameters name="wizardMessage" value="Select allocated Roles to show in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($element == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%eContents().filter(&quot;DDiagramElement&quot;)[target.filter(&quot;Role&quot;).nSize() > 0]%>">
                      <subModelOperations xsi:type="tool:DeleteView"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$containerView.eContents().filter(&quot;DDiagramElement&quot;)[target == $i].nSize() > 0%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.eContents().filter(&quot;DDiagramElement&quot;)[target == $i].nFirst.show%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$containerView.eContents().filter(&quot;DDiagramElement&quot;)[target == $i].nSize() == 0%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                          <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" containerViewExpression="&lt;%$containerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Roles From Project Explorer" precondition="&lt;% $element.isA(&quot;Role&quot;) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subContainerMappings[name='OAB_subRoles']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="oldAllocations" computationExpression="&lt;%$element.incomingTraces.filter(&quot;RoleAllocation&quot;)%>"/>
            </element>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$oldAllocations[sourceElement==$newSemanticContainer].nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $newSemanticContainer%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="RoleAllocation" referenceName="ownedRoleAllocations">
                      <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $element%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$newSemanticContainer%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Activities">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Operational Activity and allocate it to the selected Operational Entity or the selected Role." name="Operational Activity" precondition="&lt;%$container[filter(&quot;Entity&quot;) || filter(&quot;Role&quot;)].nSize() > 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Entity&quot;).nSize() > 0%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="ComponentFunctionalAllocation" referenceName="ownedFunctionalAllocation" variableName="allocation"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%  $container.getRootFunction() %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActivity" referenceName="ownedFunctions" variableName="newOA">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $allocation %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $newOA %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;% $container %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Role&quot;).nSize() > 0%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations" variableName="allocation"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%  $container.getRootFunction() %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActivity" referenceName="ownedFunctions" variableName="newOA">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $allocation %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $newOA %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;% $container %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create an Interaction between two Operational Activities." name="Interaction" precondition="&lt;%isValidCreationFunctionalExchange($preSource, $preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@edgeMappings[name='OAB%20Interaction']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalExchange_OA.gif" connectionStartPrecondition="&lt;%isValidCreationFunctionalExchange($preSource)%>">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.createABFunctionalExchange($sourceView, $targetView)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates new allocation relationships between selected Operational Activity and the target Operational Entity or Role. The newly allocated Operational Activity are automatically displayed on the target Operational Entity or Role. This tool modifies the semantic model." name="Manage Activity Allocation" label="Manage Activity Allocation" precondition="&lt;%$container[filter(&quot;Entity&quot;) || filter(&quot;Role&quot;)].nSize() > 0 %>" forceRefresh="true" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Manage.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.isA(&quot;Role&quot;)%>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectActivities" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $container %>"/>
                    <parameters name="scope" value="&lt;% $container.getAvailableOperationalActivityAllocations()%>"/>
                    <parameters name="initialSelection" value="&lt;%$container.ownedActivityAllocations.targetElement%>"/>
                    <parameters name="resultVariable" value="element"/>
                    <parameters name="wizardMessage" value="Select Operational Activities to allocate to &lt;%$container.name%>."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($element == &quot;WIZARD_CANCELED&quot;) %>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$container.ownedActivityAllocations.targetElement%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$element.nContains($i)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.eContents().filter(&quot;DNode&quot;)[target == $i] %>">
                          <subModelOperations xsi:type="tool:DeleteView"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.ownedActivityAllocations[targetElement == $i]%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%removeCapellaElement()%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$container.ownedActivityAllocations.targetElement.nContains($i)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations">
                            <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $i %>"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$container%>"/>
                          </subModelOperations>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                          <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" containerViewExpression="&lt;%$containerView%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.isA(&quot;Entity&quot;)%>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectActivities" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $container %>"/>
                    <parameters name="scope" value="&lt;% $container.getAvailableFunctionalAllocation()%>"/>
                    <parameters name="initialSelection" value="&lt;%$container.ownedFunctionalAllocation.targetElement%>"/>
                    <parameters name="resultVariable" value="element"/>
                    <parameters name="wizardMessage" value="Select Operational Activities to allocate to &lt;%$container.name%>."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($element == &quot;WIZARD_CANCELED&quot;) %>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%filter(&quot;Entity&quot;).allocatedFunctions + filter(&quot;Role&quot;).outgoingTraces.filter(&quot;ActivityAllocation&quot;).targetElement%>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$element.nContains($i)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.eContents().filter(&quot;DNode&quot;)[target == $i] %>">
                          <subModelOperations xsi:type="tool:DeleteView"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.ownedFunctionalAllocation[function == $i]%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%removeCapellaElement()%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Entity&quot;).nSize() > 0%>">
                      <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$container.ownedFunctionalAllocation.function.nContains($i)%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                            <subModelOperations xsi:type="tool:CreateInstance" typeName="ComponentFunctionalAllocation" referenceName="ownedFunctionalAllocation">
                              <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $i%>"/>
                              <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$container%>"/>
                            </subModelOperations>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                            <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" containerViewExpression="&lt;%$containerView%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Interactions. Create or delete graphical objects corresponding to already existing Interactions and the corresponding source/target Operational Activities / Roles / Operational Entities if they are not present on the diagram yet. Removing an Interaction graphical object from the diagram does not delete the Interaction from the model. This tool does not modify the semantic model." name="Show/Hide Interaction" label="Interactions" precondition="&lt;%($elementView.target.filter(&quot;AbstractFunction&quot;).nSize() > 0) &amp;&amp; ($elementView.filter(&quot;DDiagram&quot;).nSize() == 0)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="displayedExchanges" computationExpression="&lt;%$elementView.getDisplayedFunctionalExchanges%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $element%>"/>
                  <parameters name="scope" value="&lt;%getAvailableFunctionalExchangesToInsertInArchitectureBlank()%>"/>
                  <parameters name="initialSelection" value="&lt;%$displayedExchanges%>"/>
                  <parameters name="resultVariable" value="selectedExchanges"/>
                  <parameters name="wizardMessage" value="Select Functional Exchanges to show in &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedExchanges != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedExchanges%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $displayedExchanges.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i.showFunctionalExchangeInArchitectureBlank2($elementView)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$displayedExchanges%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedExchanges.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                        <parameters name="context" value="&lt;% $elementView%>"/>
                        <parameters name="variable" value="edgeToDelete"/>
                        <parameters name="value" value="&lt;%$elementView.getDiagramContainer().edges[target == $i].nFirst%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$edgeToDelete%>">
                        <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                          <parameters name="context" value="&lt;% $elementView%>"/>
                          <parameters name="variable" value="sourceNode"/>
                          <parameters name="value" value="&lt;% $edgeToDelete.sourceNode %>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                          <parameters name="context" value="&lt;% $elementView%>"/>
                          <parameters name="variable" value="targetNode"/>
                          <parameters name="value" value="&lt;% $edgeToDelete.targetNode %>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$sourceNode.isABorderedNode()%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceNode%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($sourceNode.getIncomingEdges.nSize() == 0) &amp;&amp; ($sourceNode.getOutgoingEdges.nSize() == 0)%>">
                            <subModelOperations xsi:type="tool:DeleteView"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$targetNode.isABorderedNode()%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$targetNode%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($targetNode.getIncomingEdges.nSize() == 0) &amp;&amp; ($targetNode.getOutgoingEdges.nSize() == 0)%>">
                            <subModelOperations xsi:type="tool:DeleteView"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Insert/Remove Operational Processes. Create or delete graphical objects corresponding to already existing Operational Processes. Removing an Operational Process graphical object from the diagram does not delete the Operational Process from the model. This tool does not modify the semantic model." name="Operational Processes" label="Operational Processes" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_OperationalProcessEnd']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="ownedElements" computationExpression="&lt;%$containerView.getSetOfDiagramElements()%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="initialSelection" computationExpression="&lt;%$containerView.getNodesAndNodeListElements()[visible &amp;&amp; target.filter(&quot;FunctionalChain&quot;).nSize() > 0].target%>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectFunctionalChains" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;%getFunctionalChainsToInsert($containerView, $container.getAllFunctionalChain())%>"/>
                  <parameters name="initialSelection" value="&lt;%$initialSelection%>"/>
                  <parameters name="resultVariable" value="selectedFunctionalChains"/>
                  <parameters name="wizardMessage" value="Select Operartional Processes to show in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctionalChains == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$initialSelection%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$selectedFunctionalChains.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getNodesAndNodeListElements()[target == $i].nFirst%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedFunctionalChains - $initialSelection%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_OperationalProcessEnd']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Insert/Remove Operational Activities. Create or delete graphical objects corresponding to already existing Operational Activities. Removing an Operational Activity graphical object from the diagram does not delete the Operational Activity from the model. This tool does not modify the semantic model." name="Show/Hide Allocated Activities" label="Allocated Activities" precondition="&lt;%$container[filter(&quot;Entity&quot;) || filter(&quot;Role&quot;)].nSize() > 0 %>" forceRefresh="true" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleFunctions" computationExpression="&lt;%$containerView.ownedDiagramElements.target.filter(&quot;AbstractFunction&quot;)%>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Entity&quot;).nSize() > 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current %>">
                    <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectAllocatedFunctions" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                      <parameters name="context" value="&lt;% $container %>"/>
                      <parameters name="scope" value="&lt;% $container.getShowableAllocatedFunctions($containerView)%>"/>
                      <parameters name="initialSelection" value="&lt;% $visibleFunctions %>"/>
                      <parameters name="resultVariable" value="selectedFunctions"/>
                      <parameters name="wizardMessage" value="Select allocated Operational Activities to show in &lt;%$container.name%>."/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctions == &quot;WIZARD_CANCELED&quot;) %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.insertRemoveAllocatedFunctions($selectedFunctions) %>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Role&quot;).nSize() > 0%>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectOAs" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $container %>"/>
                    <parameters name="scope" value="&lt;% $container.getShowableAllocatedOperationalActivities() %>"/>
                    <parameters name="initialSelection" value="&lt;% $visibleFunctions %>"/>
                    <parameters name="resultVariable" value="selectedFunctions"/>
                    <parameters name="wizardMessage" value="Select allocated Operational Activities to show in &lt;%$container.name%>."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctions == &quot;WIZARD_CANCELED&quot;) %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.insertRemoveAllocatedFunctions($selectedFunctions) %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Show all activities">
            <tools xsi:type="tool:ToolDescription" documentation="Insert All Allocated Operational Activities. Create graphical objects for all Operational Activities already allocated to all Operational Entities appearing on the diagram. This tool does not modify the semantic model." name="Insert All Allocated Activities in Entities" label="All Allocated Activities in Entities" precondition="&lt;%$elementView.isA(&quot;DDiagram&quot;) || $element.isA(&quot;Entity&quot;)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <element name="element"/>
              <elementView name="elementView">
                <subVariables xsi:type="tool:AcceleoVariable" name="visibleEntities" computationExpression="&lt;%$elementView.getAllContainers()[target.filter(&quot;Entity&quot;)]%>"/>
              </elementView>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$visibleEntities%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool:For" expression="&lt;%$i.target.ownedFunctionalAllocation.targetElement%>" iteratorName="j">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! $i.ownedDiagramElements.target.nContains($j)%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$j%>">
                            <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" containerViewExpression="&lt;%$i%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </firstModelOperations>
              </initialOperation>
            </tools>
            <tools xsi:type="tool:ToolDescription" documentation="Insert All Allocated Operational Activities. Create graphical objects for all Operational Activities already allocated to all Roles appearing on the diagram. This tool does not modify the semantic model." name="Insert All Allocated Activities in Roles" label="All Allocated Activities in Roles" precondition="&lt;%$elementView.isA(&quot;DDiagram&quot;) || $element.isA(&quot;Role&quot;)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <element name="element"/>
              <elementView name="elementView">
                <subVariables xsi:type="tool:AcceleoVariable" name="visibleRoles" computationExpression="&lt;%$elementView.getAllContainers()[target.filter(&quot;Role&quot;)]%>"/>
              </elementView>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$visibleRoles%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool:For" expression="&lt;%$i.target.ownedActivityAllocations.targetElement%>" iteratorName="j">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! $i.ownedDiagramElements.target.nContains($j)%>">
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$j%>">
                            <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" containerViewExpression="&lt;%$i%>"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </firstModelOperations>
              </initialOperation>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D OperationalActivities From Project Explorer" precondition="&lt;% $element.isA(&quot;AbstractFunction&quot;) &amp;&amp; ($element.subFunctions().nSize ==0) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="oldAllocationBlocks" computationExpression="&lt;%$element.allocationBlocks%>"/>
            </element>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$oldAllocationBlocks.nSize() > 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.dndABAbstractFunctionAllocation($element.allocationBlocks.nFirst, $newSemanticContainer)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$oldAllocationBlocks.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $newSemanticContainer%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="ComponentFunctionalAllocation" referenceName="ownedFunctionalAllocation">
                      <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $element%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$newSemanticContainer%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D OperationalActivities From Project Explorer To Role" precondition="&lt;% $element.isA(&quot;AbstractFunction&quot;) &amp;&amp; ($element.subFunctions().nSize ==0) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="oldAllocations" computationExpression="&lt;%$element.incomingTraces.filter(&quot;ActivityAllocation&quot;)%>"/>
            </element>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$oldAllocations[sourceElement==$newSemanticContainer].nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newSemanticContainer%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations">
                      <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $element%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$newSemanticContainer%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:PopupMenu" name="Operational Process">
            <menuItemDescription xsi:type="tool:OperationAction" name="Create an Operational Process" precondition="&lt;%isValidFunctionalChainSelection($views)%>" forceRefresh="true">
              <view name="views"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createFunctionalChain($views)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%current.isA(&quot;FunctionalChain&quot;)%>">
                    <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@nodeMappings[name='OAB_OperationalProcessEnd']" containerViewExpression="&lt;%$views.nFirst().getDiagramContainer()%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
            </menuItemDescription>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="OAIB Reconnect Exchanges" precondition="&lt;% $element.isFunctionalExchangeReconnectable($sourceView.getDiagramContainer(), $source, $target) %>" reconnectionKind="RECONNECT_BOTH">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element.reconnectFunctionalExchange($source,$target) %>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
        </toolSections>
        <toolSections name="Accelerators">
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert all the Activities available in a given Mode / State. This tool does not modify the semantic model." name="State-Mode Elements" label="Activities from Mode / State" precondition="&lt;%$elementView.isValidABInsertStateModes()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Mode.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectStates" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;%$element%>"/>
                  <parameters name="scope" value="&lt;%$elementView.getABInsertStateModesScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="elements"/>
                  <parameters name="wizardMessage" value="Select States/Modes to display all its available functions."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($elements == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.showABStateModes($elements)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert all the related elements contributing to a given Scenario. &#xD;&#xA;Activities and allocating Entities might be displayed on the diagram as well if they are not yet represented. &#xD;&#xA;This tool does not modify the semantic model." name="Scenario Elements" label="Elements from Scenario" precondition="&lt;%$elementView.isValidABInsertScenarios()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Scenario.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectElements" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;%$element%>"/>
                  <parameters name="scope" value="&lt;%$elementView.getABInsertScenariosScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="elements"/>
                  <parameters name="wizardMessage" value="Select Scenarios to display all involved elements."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($elements == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.showABScenarios($elements)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
        <customization>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="&lt;% !current.isAllocatedInThisComponent($container.getComponentType()) %>">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']/@conditionnalStyles.0/@style //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@containerMappings[name='OAB_Entity1']/@subNodeMappings[name='OAB_Activity']/@style" attributeName="borderLineStyle" value="dash"/>
          </vsmElementCustomizations>
        </customization>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Activity Breakdown" titleExpression="[OABD] &lt;%current.name%>" domainClass="OperationalActivity">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/LogicalArchitecture.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.activity.gen/model/Activity.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.behavior.gen/model/Behavior.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CompositeStructure.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/FunctionalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Interaction.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCommon.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/CapellaCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.common.data.core.gen/model/ModellingCore.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Requirement.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/OperationalAnalysis.ecore#/"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//communication"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datatype"/>
      <metamodel href="platform:/plugin/org.polarsys.capella.core.data.gen/model/Information.ecore#//datavalue"/>
      <metamodel href="http://www.eclipse.org/emf/2002/Ecore#/"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <layout xsi:type="description_2:OrderedTreeLayout" childrenExpression="feature:subFunctions" nodeMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@nodeMappings[name='OAB_OperationalActivity']"/>
      <defaultLayer name="default layer">
        <nodeMappings name="OAB_OperationalActivity" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20OperationalActivity']" semanticCandidatesExpression="service:getFBDSemanticAbstractFunctions()" domainClass="OperationalActivity">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Interaction%20Blank']"/>
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%current == $container%>">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
              <labelFormat>bold</labelFormat>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <edgeMappings name="OAB_OperationalActivity_subFunctions" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20subFunctionLink']" semanticCandidatesExpression="&lt;%current.eAllContents%>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@nodeMappings[name='OAB_OperationalActivity']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@nodeMappings[name='OAB_OperationalActivity']" targetFinderExpression="service:getFBDParentFunction()" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='changeContainer']">
          <style targetArrow="InputFillClosedArrow" routingStyle="tree" foldingStyle="TARGET">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Activities">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Activity in the target Operational Activity" name="Operational Activity" precondition="&lt;%$containerView.isValidCreationDFFunction() %>" forceRefresh="true" elementsToSelect="&lt;%selectOnlyCreatedView()%>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@nodeMappings[name='OAB_OperationalActivity']" extraMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@nodeMappings[name='OAB_OperationalActivity']">
            <variable name="container">
              <subVariables xsi:type="tool:AcceleoVariable" name="tool" computationExpression="Operational Activity"/>
            </variable>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.createFunction()%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CreateView" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.CreateViewAction">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% current %>"/>
                  <parameters name="containerViewExpression" value="&lt;%$containerView.getDiagramContainer()%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Sets the target Operational Activity as the new container of the source Operational Activity" name="Contained In" precondition="&lt;%$preSource.isValidDndDFBAbstractFunction($preTargetView)%>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Breakdown']/@defaultLayer/@edgeMappings[name='OAB_OperationalActivity_subFunctions']" iconPath="/org.polarsys.capella.core.sirius.analysis/description/images/containedIn.png">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.dndDFBAbstractFunction($source.eContainer, $target)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="delete subFunctionLink">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.sourceNode.target.dndDFBAbstractFunction($elementView.sourceNode.target.eContainer, $containerView.target)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="capellaElement" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CapellaDeleteExternalAction" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="rename OperationalActivity" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="changeContainer" precondition="&lt;%$element.isValidDndDFBAbstractFunction($targetView)%>" forceRefresh="true">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.dndDFBAbstractFunction($source, $target)%>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Role Blank" titleExpression="[ORB] &lt;%current.name%>" domainClass="Component" preconditionExpression="&lt;%(current.isA(&quot;Entity&quot;) &amp;&amp; !current.isA(&quot;OperationalActor&quot;)) || current.isA(&quot;OperationalContext&quot;) || current.isA(&quot;EntityPkg&quot;) %>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Role%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Allocated Interactions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@edgeMappings[name='ORB%20Interaction']" semanticConditionExpression="&lt;%hideAllocatedInteractions()%>"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Interactions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@edgeMappings[name='ORB%20Interaction']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <defaultLayer name="default layer">
        <edgeMappings name="ORB Interaction" preconditionExpression="&lt;% getInteractionSourceInDiagram($diagram) != getInteractionTargetInDiagram($diagram) %>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20Interaction']" semanticCandidatesExpression="service:diagram.getDFFunctionalExchangeSemanticCandidates" semanticElements="var:self" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" targetFinderExpression="service:getInteractionTargetInDiagram(diagram)" sourceFinderExpression="service:getInteractionSourceInDiagram(diagram)" domainClass="FunctionalExchange" useDomainElement="true" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='OAIB%20Reconnect%20Exchanges']">
          <style targetArrow="InputFillClosedArrow">
            <strokeColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <centerLabelStyleDescription labelExpression="service:capellaLabelService(view, diagram)">
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="ORB_Role1" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20Interaction']" semanticCandidatesExpression="" createElements="false" domainClass="Role" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='change%20allocation'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20OperationalActivities%20From%20Project%20Explorer'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Role%20From%20Project%20Explorer']">
          <subNodeMappings name="ORB_OAAllocation" preconditionExpression="&lt;%$container.getShowableAllocatedOperationalActivities().nContains(current)%>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20Interaction']" semanticCandidatesExpression="" createElements="false" domainClass="OperationalActivity">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
            </style>
            <conditionnalStyles predicateExpression="service:isNotLeaf()">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%$view.computeFunctionLabel%>" sizeComputationExpression="7" labelPosition="node" resizeKind="NSEW">
                <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                <labelFormat>italic</labelFormat>
                <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
              </style>
            </conditionnalStyles>
          </subNodeMappings>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_OperationalRole_Purple']"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Roles">
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Role" name="Operational Role" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootRolePkg()%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Role" referenceName="ownedRoles" variableName="role">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Insert/Remove Operational Roles. Creates or deletes graphical objects corresponding to already existing Operational Roles. Removing an Operational Role graphical object from the diagram does not delete the Operational Role from the model. This tool does not modify the semantic model." name="Insert Operational Role" label="Operational Roles" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleRoles" computationExpression="&lt;% $containerView.containers.target.filter(&quot;Role&quot;) %>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="Select Roles" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;%$container%>"/>
                  <parameters name="scope" value="&lt;%eContainer(&quot;OperationalAnalysis&quot;).eAllContents().filter(&quot;Role&quot;) - $containerView.eAllContents(&quot;DSemanticDecorator&quot;).target%>"/>
                  <parameters name="resultVariable" value="roles"/>
                  <parameters name="wizardMessage" value="Select Roles to insert into &lt;%$container.name%>."/>
                  <parameters name="initialSelection" value="&lt;% $visibleRoles %>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$roles != &quot;WIZARD_CANCELED&quot;%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$roles - $visibleRoles%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                      <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']" containerViewExpression="&lt;%$containerView%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;% $visibleRoles - $roles%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.containers[target == $i]%>">
                      <subModelOperations xsi:type="tool:DeleteView"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="Rename Interaction" forceRefresh="true" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="change allocation" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$oldSemanticContainer%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$element.subFunctions == null%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$oldSemanticContainer.ownedActivityAllocations[targetElement == $element]%>">
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.target%>" featureName="ownedActivityAllocations"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$element.subFunctions != null%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$element.eAllContents()[subFunctions == null]%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$oldSemanticContainer.ownedActivityAllocations[targetElement == $i]%>">
                      <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$newContainerView.target%>" featureName="ownedActivityAllocations"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="capellaElement" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="CapellaDeleteExternalAction" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Role From Project Explorer" precondition="&lt;% $element.isA(&quot;Role&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']" dragSource="PROJECT_EXPLORER" moveEdges="true">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Activities">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Activity allocated to the target Operational Role" name="Operational Activity" precondition="&lt;%$container[filter(&quot;Role&quot;)].nSize() > 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$container.filter(&quot;Role&quot;).nSize() > 0%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations" variableName="allocation"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%  $container.getRootFunction() %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActivity" referenceName="ownedFunctions" variableName="newOA">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $allocation %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $newOA %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;% $container %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new Interaction between the source and target Operational Activities&#xD;&#xA;" name="Interaction" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@edgeMappings[name='ORB%20Interaction']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalExchange_OA.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.createABFunctionalExchange($sourceView, $targetView)%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Operational Interactions. Creates or deletes graphical objects corresponding to already existing Operational Interactions. Removing an Operational Interaction graphical object from the diagram does not delete the Operational Interaction from the model. This tool does not modify the semantic model.&#xD;&#xA;" name="Show/Hide Interaction" label="Interactions" precondition="&lt;%($elementView.target.filter(&quot;AbstractFunction&quot;).nSize() > 0) &amp;&amp; ($elementView.filter(&quot;DDiagram&quot;).nSize() == 0)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="displayedExchanges" computationExpression="&lt;%$elementView.getDisplayedFunctionalExchanges%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $element%>"/>
                  <parameters name="scope" value="&lt;%getAvailableFunctionalExchangesToInsertInArchitectureBlank()%>"/>
                  <parameters name="initialSelection" value="&lt;%$displayedExchanges%>"/>
                  <parameters name="resultVariable" value="selectedExchanges"/>
                  <parameters name="wizardMessage" value="Select Functional Exchanges to show in &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedExchanges != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedExchanges%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $displayedExchanges.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i.showFunctionalExchangeInArchitectureBlank2($elementView)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$displayedExchanges%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedExchanges.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                        <parameters name="context" value="&lt;% $elementView%>"/>
                        <parameters name="variable" value="edgeToDelete"/>
                        <parameters name="value" value="&lt;%$elementView.getDiagramContainer().edges[target == $i].nFirst%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$edgeToDelete%>">
                        <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                          <parameters name="context" value="&lt;% $elementView%>"/>
                          <parameters name="variable" value="sourceNode"/>
                          <parameters name="value" value="&lt;% $edgeToDelete.sourceNode %>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                          <parameters name="context" value="&lt;% $elementView%>"/>
                          <parameters name="variable" value="targetNode"/>
                          <parameters name="value" value="&lt;% $edgeToDelete.targetNode %>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$sourceNode.isABorderedNode()%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceNode%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($sourceNode.getIncomingEdges.nSize() == 0) &amp;&amp; ($sourceNode.getOutgoingEdges.nSize() == 0)%>">
                            <subModelOperations xsi:type="tool:DeleteView"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$targetNode.isABorderedNode()%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$targetNode%>">
                          <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($targetNode.getIncomingEdges.nSize() == 0) &amp;&amp; ($targetNode.getOutgoingEdges.nSize() == 0)%>">
                            <subModelOperations xsi:type="tool:DeleteView"/>
                          </subModelOperations>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Manage Operational Activity Allocation. Creates new allocation relationships between the selected Operational Activities and the target Operational Role. The newly allocated Operational Activities are automatically displayed on the target Operational Role. This tool modifies the semantic model." name="Manage Activity Allocation" label="Manage Activity Allocation" precondition="&lt;%$container.filter(&quot;Role&quot;).nSize() > 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Manage.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectRoles" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% $container.getAvailableOperationalActivityAllocations()%>"/>
                  <parameters name="initialSelection" value="&lt;%$container.ownedActivityAllocations.targetElement%>"/>
                  <parameters name="resultVariable" value="element"/>
                  <parameters name="wizardMessage" value="Select Operational Activities to allocate to &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($element == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%outgoingTraces.filter(&quot;ActivityAllocation&quot;).targetElement%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$element.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.eContents().filter(&quot;DNode&quot;)[target == $i] %>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container.ownedActivityAllocations[targetElement == $i]%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%removeCapellaElement()%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$element%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!$container.ownedActivityAllocations.targetElement.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations">
                          <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $i %>"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$container%>"/>
                        </subModelOperations>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                        <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" containerViewExpression="&lt;%$containerView%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Insert/Remove Allocated Operational Activities. Creates or deletes graphical objects corresponding to already Operational Activities. Removing an Operational Activity graphical object from an Operational Role does not delete the allocation relationship towards the Operational Activity. This tool does not modify the semantic model." name="Show/Hide Allocated Activities" label="Allocated Activities" precondition="&lt;%!$containerView.isA(&quot;DDiagram&quot;)%>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleFunctions" computationExpression="&lt;%$containerView.ownedDiagramElements.target.filter(&quot;AbstractFunction&quot;)%>"/>
            </viewVariable>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectOAs" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% $container.getShowableAllocatedOperationalActivities() %>"/>
                  <parameters name="initialSelection" value="&lt;% $visibleFunctions %>"/>
                  <parameters name="resultVariable" value="selectedFunctions"/>
                  <parameters name="wizardMessage" value="Select allocated Operational Activities to show in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($selectedFunctions == &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $containerView.insertRemoveAllocatedFunctions($selectedFunctions) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert All Allocated Operational Activities. Creates graphical objects for all Operational Activities already allocated to all Operational Roles appearing on the diagram. This tool does not modify the semantic model.&#xD;&#xA;" name="Insert All Allocated Activities" label="All Allocated Activities" precondition="&lt;%$elementView.isA(&quot;DDiagram&quot;) || $element.isA(&quot;Role&quot;)%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="visibleRoles" computationExpression="&lt;%$elementView.getAllContainers()[target.filter(&quot;Role&quot;)]%>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:For" expression="&lt;%$visibleRoles%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$i%>">
                    <subModelOperations xsi:type="tool:For" expression="&lt;%$i.target.ownedActivityAllocations.targetElement%>" iteratorName="j">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! $i.ownedDiagramElements.target.nContains($j)%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$j%>">
                          <subModelOperations xsi:type="tool_1:CreateView" mapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" containerViewExpression="&lt;%$i%>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D OperationalActivities From Project Explorer" precondition="&lt;% $element.isA(&quot;AbstractFunction&quot;) &amp;&amp; ($element.subFunctions().nSize ==0) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Role%20Blank']/@defaultLayer/@containerMappings[name='ORB_Role1']/@subNodeMappings[name='ORB_OAAllocation']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="oldAllocations" computationExpression="&lt;%$element.incomingTraces.filter(&quot;ActivityAllocation&quot;)%>"/>
            </element>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$oldAllocations[sourceElement==$newSemanticContainer].nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newSemanticContainer%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="ActivityAllocation" referenceName="ownedActivityAllocations">
                      <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;% $element%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$newSemanticContainer%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ReconnectEdgeDescription" name="OAIB Reconnect Exchanges" precondition="&lt;% $element.isFunctionalExchangeReconnectable($sourceView.getDiagramContainer(), $source, $target) %>" reconnectionKind="RECONNECT_BOTH">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element.reconnectFunctionalExchange($source,$target) %>"/>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_3:SequenceDiagramDescription" name="Operational Interaction Scenario" label="Entity Scenario" titleExpression="&lt;%current.name.addScenarioPrefix(&quot;[OES]&quot;)%>" domainClass="interaction.Scenario" preconditionExpression="&lt;%isValidEntityScenario %>" endsOrdering="&lt;% getOrderedInteractionFragments () &amp;&amp; $eventEnds %>" instanceRolesOrdering="&lt;% ownedInstanceRoles%>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Drop%20Component']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide executions">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide PrePost conditions" label="Hide pre and post conditions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='preconditionMapping'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='postconditionMapping']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems" label="Show [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelOA']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems parameters" label="Show EI1(param1:type1, param2:type2), EI2(param3:type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelOA']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges" label="Show I">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems]" label="Show I [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges (Parameters)" label="Show I (type1, type2, type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems(Parameters)]" label="Show I [EI1(param1:type1, param2:type2), EI2(param3:type3)]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Component Exchanges [ExchangeItems]" label="Show CM [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="CEParam" label="Show CM (type1, type2)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="CEEIParam" label="Show CM [EI (param1:type1, param2:type2)]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="ShowExchangeContext" label="Show {Exchange Context}">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="ShowFEExchangeContext" label="Show I {Exchange Context}">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="ShowCEExchangeContext" label="Show CM {Exchange Context}">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <diagramInitialisation>
        <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current%>">
          <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="INTERACTION"/>
        </firstModelOperations>
      </diagramInitialisation>
      <defaultLayer name="Default">
        <nodeMappings xsi:type="description_3:InstanceRoleMapping" name="Instancerole Mapping OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20instance%20role%20OA']" semanticCandidatesExpression="&lt;% ownedInstanceRoles %>" synchronizationLock="true" domainClass="interaction.InstanceRole">
          <borderedNodeMappings xsi:type="description_3:ExecutionMapping" name="default execution OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% self %>" synchronizationLock="true" domainClass="interaction.InstanceRole" reusedBorderedNodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']/@borderedNodeMappings[name='InteractionState%20Mapping%20OA']" startingEndFinderExpression="&lt;% self %>" finishingEndFinderExpression="&lt;% self %>">
            <borderedNodeMappings xsi:type="description_3:ExecutionMapping" name="Execution OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% getExecutionsFromInstanceRoleOrParentExecution () %>" synchronizationLock="true" domainClass="interaction.Execution" reusedBorderedNodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>">
              <borderedNodeMappings xsi:type="description_3:StateMapping" name="InteractionState Mapping OA" semanticCandidatesExpression="&lt;% getInteractionStatesOnExecution () %>" domainClass="interaction.StateFragment" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>">
                <deletionDescription href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Function%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']"/>
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;% relatedAbstractFunction.capellaLabelService($view, $diagram) %>" labelPosition="node" resizeKind="NSEW" width="10" height="3">
                  <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                  <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
                  <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
                </style>
                <conditionnalStyles predicateExpression="&lt;% relatedAbstractState != null &amp;&amp; relatedAbstractState.filter(&quot;Mode&quot;).nSize() > 0 %>">
                  <style xsi:type="style:EllipseNodeDescription" showIcon="false" labelExpression="&lt;% relatedAbstractState.capellaLabelService($view, $diagram) %>" labelPosition="node" resizeKind="NSEW" horizontalDiameterComputationExpression="10" verticalDiameterComputationExpression="3">
                    <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_StateMode_Border_Gray']"/>
                    <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                    <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Mode_Gray']"/>
                  </style>
                </conditionnalStyles>
                <conditionnalStyles predicateExpression="&lt;% relatedAbstractState != null &amp;&amp; relatedAbstractState.filter(&quot;Mode&quot;).nSize() == 0 %>">
                  <style xsi:type="style:EllipseNodeDescription" showIcon="false" labelExpression="&lt;% relatedAbstractState.capellaLabelService($view, $diagram) %>" labelPosition="node" resizeKind="NSEW" horizontalDiameterComputationExpression="10" verticalDiameterComputationExpression="3">
                    <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_StateMode_Border_Gray']"/>
                    <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                    <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_State_Gray']"/>
                  </style>
                </conditionnalStyles>
              </borderedNodeMappings>
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="" resizeKind="NSEW" width="1" height="3">
                <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
                <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
                <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
              </style>
              <conditionnalStyles predicateExpression="service:isFunctionalExecution()">
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="" resizeKind="NSEW" width="1" height="3">
                  <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                  <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
                  <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
                </style>
              </conditionnalStyles>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_3:EndOfLifeMapping" name="Lifeline deletion mapping OA" preconditionExpression="&lt;% eContainer.ownedMessages[kind==&quot;DELETE&quot;].receivingEnd.covered.nContains (self) %>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='no%20delete%20OA']" semanticCandidatesExpression="&lt;% self %>" synchronizationLock="true" domainClass="interaction.InstanceRole">
              <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="&lt;% &quot;&quot; %>" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/eol.png">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_3:EndOfLifeMapping" name="endOfLifeOA" preconditionExpression="&lt;% ! (eContainer.ownedMessages[kind==&quot;DELETE&quot;].receivingEnd.covered.nContains (self)) %>" semanticCandidatesExpression="&lt;% self %>" domainClass="interaction.InstanceRole">
              <deletionDescription href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='Contextual%20System%20Actors']/@defaultLayer/@toolSections.0/@ownedTools[name='No%20Delete']"/>
              <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="&lt;% &quot;&quot; %>" sizeComputationExpression="1" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/handlelifeline.png">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="" sizeComputationExpression="" labelPosition="node" resizeKind="NSEW" width="1" height="40">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Lifeline_Gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            </style>
          </borderedNodeMappings>
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getInstanceRoleLabel ()%>" labelPosition="node" resizeKind="EAST_WEST" width="10" height="5">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%representedInstance.abstractType.filter(&quot;Component&quot;).nSize > 0 &amp;&amp; ! isInternalLCForInstanceRole () %>">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getInstanceRoleLabel ()%>" labelPosition="node" resizeKind="EAST_WEST" width="15" height="5">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
              <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%representedInstance.abstractType.filter(&quot;Component&quot;).nSize > 0 &amp;&amp; isInternalLCForInstanceRole () %>">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getInstanceRoleLabel ()%>" labelPosition="node" resizeKind="EAST_WEST" width="15" height="5">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
            </style>
          </conditionnalStyles>
          <conditionnalStyles predicateExpression="&lt;%representedInstance.filter(&quot;Role&quot;).nSize > 0%>">
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getInstanceRoleLabel ()%>" labelPosition="node" resizeKind="EAST_WEST" width="15" height="5">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_purple']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_OperationalRole_Purple']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <nodeMappings xsi:type="description_3:InstanceRoleMapping" name="hideSequenceLabelOA" semanticCandidatesExpression="ocl:Set {}" domainClass="EObject"/>
        <nodeMappings xsi:type="description_3:ObservationPointMapping" name="ObservationPointOA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='no%20delete%20OA']" semanticCandidatesExpression="&lt;% ownedConstraintDurations.start + ownedConstraintDurations.finish %>" domainClass="InteractionFragment">
          <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="" sizeComputationExpression="1" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/observation.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="preconditionMapping" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% preCondition %>" domainClass="capellacore.Constraint">
          <style xsi:type="style:NoteDescription" showIcon="false" labelExpression="&lt;%&quot;pre:&quot; + getConstraintLabel()  %>" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="postconditionMapping" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% postCondition %>" domainClass="capellacore.Constraint">
          <style xsi:type="style:NoteDescription" showIcon="false" labelExpression="&lt;%&quot;post:&quot; + getConstraintLabel() %>" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </nodeMappings>
        <edgeMappings xsi:type="description_3:BasicMessageMapping" name="Basic message mapping OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20basic%20message%20OA']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;SYNCHRONOUS_CALL&quot; || kind == &quot;ASYNCHRONOUS_CALL&quot;] %>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;% getDFMessageName($diagram) %>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:ReturnMessageMapping" name="return message mapping OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;REPLY&quot;]%>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>" invocationMessageFinderExpression="&lt;% getInvocationMessage ()%>">
          <style lineStyle="dash">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:CreationMessageMapping" name="creation message mapping OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;CREATE&quot;]%>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:DestructionMessageMapping" name="destruction message mapping OA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;DELETE&quot;]%>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Lifeline%20deletion%20mapping%20OA']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:BasicMessageMapping" name="Timer message mapping OA" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;TIMER&quot;] %>" semanticElements="&lt;% self + invokedOperation %>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% getSendingEndEvent() %>" receivingEndFinderExpression="&lt;% getReceivingEndEvent() %>">
          <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
          <labelDirectEdit href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20basic%20message%20DF']"/>
          <style sourceArrow="Diamond">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;% getDFMessageName($diagram) %>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="ConstraintDurationOA" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Set%20Duration']" semanticCandidatesExpression="feature:ownedConstraintDurations" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='ObservationPointOA']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='ObservationPointOA']" targetFinderExpression="&lt;% finish %>" sourceFinderExpression="&lt;% start %>" domainClass="interaction.ConstraintDuration" useDomainElement="true">
          <style xsi:type="style:BracketEdgeStyleDescription" sourceArrow="InputArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;% duration %>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings xsi:type="description_3:InteractionUseMapping" name="InteractionUse OA" semanticCandidatesExpression="&lt;% ownedTimeLapses.filter (&quot;InteractionUse&quot;) %>" semanticElements="&lt;%  self + referencedScenario + referencedScenario.eContainer (&quot;AbstractCapability&quot;)%>" domainClass="interaction.InteractionUse" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>" coveredLifelinesExpression="&lt;% getCoveredFromAbstractFragment  () %>" centerLabelExpression="&lt;% referencedScenario.name  %>">
          <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression=" ref" labelAlignment="LEFT">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings xsi:type="description_3:CombinedFragmentMapping" name="CombinedFragmentOA" semanticCandidatesExpression="&lt;% ownedTimeLapses.filter (&quot;CombinedFragment&quot;) %>" synchronizationLock="true" domainClass="interaction.CombinedFragment" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>" coveredLifelinesExpression="&lt;% getCoveredFromAbstractFragment () %>">
          <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
          <subContainerMappings xsi:type="description_3:OperandMapping" name="OperandOA" semanticCandidatesExpression="&lt;% referencedOperands %>" synchronizationLock="true" domainClass="interaction.InteractionOperand" startingEndFinderExpression="&lt;% getOperandBegin () %>" finishingEndFinderExpression="&lt;% getOperandEnd ()%>">
            <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
            <labelDirectEdit href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Direct%20edit%20operand']"/>
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;% getOperandLabel () %>" labelAlignment="LEFT">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            </style>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;% operator %>" labelAlignment="LEFT">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ExchangeContext']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="tools section" label="Scenarios Elements">
          <ownedTools xsi:type="tool_1:DiagramCreationDescription" name="Entity Scenario " precondition="&lt;%isInLib()%>" titleExpression="&lt;%current.name.addScenarioPrefix(&quot;[OES]&quot;)%> - Operational Entity Scenario" browseExpression="&lt;%ownedScenarios.nLast()%>" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Scenario" referenceName="ownedScenarios">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$diagramName%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramNavigationDescription" name="Existing Entity Scenario" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleCreationTool" name="Operational Entity" precondition="&lt;% eContainer(&quot;SystemArchitecture&quot;).nSize == 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ComponentInstance.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="eContainer (&quot;BlockArchitecture&quot;)">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer(&quot;BlockArchitecture&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% filter (&quot;OperationalAnalysis&quot;).nSize != 0 %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ownedEntityPkg %>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="component">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                    <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$component.abstractTypedElements.nGet(0) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$component.name%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($component) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <predecessor name="predecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleCreationTool" name="Operational Actor" precondition="&lt;% eContainer(&quot;SystemArchitecture&quot;).nSize == 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActor.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="eContainer (&quot;BlockArchitecture&quot;)">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer(&quot;BlockArchitecture&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% filter (&quot;OperationalAnalysis&quot;).nSize != 0 %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ownedEntityPkg %>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="actor">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                    <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$actor.abstractTypedElements.nGet(0) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$actor.name%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($actor) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <predecessor name="predecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleCreationTool" name="Role" precondition="&lt;% eContainer(&quot;SystemArchitecture&quot;).nSize == 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Role.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="eContainer (&quot;BlockArchitecture&quot;)">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer(&quot;BlockArchitecture&quot;)%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% filter (&quot;OperationalAnalysis&quot;).nSize != 0 %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ownedRolePkg %>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Role" referenceName="ownedRoles" variableName="component">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                    <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$component  %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$component.name%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($component) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <predecessor name="predecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="GroupOESActorsRolesEntities">
            <tools xsi:type="tool_2:InstanceRoleCreationTool" name="Operational Entities / roles" precondition="&lt;% eContainer(&quot;SystemArchitecture&quot;).nSize == 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="Select Function" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                    <parameters name="context" value="&lt;% $container %>"/>
                    <parameters name="scope" value="&lt;%eContainer (&quot;ModellingArchitecture&quot;).ownedRolePkg.ownedRoles + getAllComponents($containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;).representedInstance.filter(&quot;Part&quot;))[abstractType.filter(&quot;AbstractActor&quot;).nSize() == 0]%>"/>
                    <parameters name="initialSelection" value="&lt;% $containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;).representedInstance  %>"/>
                    <parameters name="wizardMessage" value=""/>
                    <parameters name="resultVariable" value="result"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;% $result %>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $i != &quot;WIZARD_CANCELED&quot; %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                        <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;).representedInstance.nContains ($i)) %>">
                          <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                            <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$i%>"/>
                            <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$i.name%>"/>
                          </subModelOperations>
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                          <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($i.abstractType) %>"/>
                        </subModelOperations>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.delete.RemoveInstanceRoles" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.RemoveInstanceRoles">
                    <parameters name="result" value="&lt;% $result %>"/>
                    <parameters name="current" value="&lt;% $containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;) %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <predecessor name="predecessor"/>
            </tools>
            <tools xsi:type="tool_2:InstanceRoleCreationTool" documentation="Creates a new lifeline representing an existing component or the system. This tool allows having multiple lifelines representing the same component." name="Add multiple lifelines for an existing Entity / Actor" precondition="&lt;% eContainer(&quot;SystemArchitecture&quot;).nSize == 0 %>" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/AddInstanceRole.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="Select Component" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                    <parameters name="context" value="&lt;% $container %>"/>
                    <parameters name="scope" value="service:getAllMultiInstanceRoleParts"/>
                    <parameters name="wizardMessage" value=""/>
                    <parameters name="resultVariable" value="result"/>
                    <parameters name="multiple" value="false"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;% $result %>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $result != &quot;WIZARD_CANCELED&quot; %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                        <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$result%>"/>
                        <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$result.name%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($result.abstractType) %>"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <predecessor name="predecessor"/>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking an Operational Interaction with return branch between the Source and Target Lifelines (representing existing Operational Entities Parts). This tool opens a selection wizard to select an available existing Interaction or to create a new one between existing/new allocated  Operational Activities.&#xD;&#xA;This tool is masked as soon as a Communication Mean is displayed on the scenario. " name="Sequence Message with Return Branch" label="Interaction with Return Branch" precondition="&lt;% allowMessageCreation ($preSource, $preTarget, true, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd) %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']">
            <filters precondition="&lt;% target.eContainer (&quot;Scenario&quot;).ownedEvents.operation.filter (&quot;ComponentExchange&quot;).nSize > 0 %>" elementsToListen="&lt;% target.eContainer (&quot;Scenario&quot;) %>">
              <listeners domainClass="interaction.Scenario" featureName="ownedInteractionFragments"/>
            </filters>
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% getScenario () %>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% traceScenario ($messageEndBefore) %>"/>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="FE"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="SYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="SYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="reply">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName + &quot;_reply&quot;%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="REPLY"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($call)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $receivingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$reply%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingReplyEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$sendingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking an Operational Interaction without return branch between the Source and Target Lifelines (representing existing Operational Entities Parts). This tool opens a selection wizard to select an available existing Interaction or to create a new one between existing/new allocated  Operational Activities.&#xD;&#xA;This tool is masked as soon as a Communication Mean is displayed on the scenario." name="Sequence Message" label="Interaction" precondition="&lt;% allowMessageCreation ($preSource, $preTarget, true, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd) %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/AsyncSequenceMessage.gif">
            <filters precondition="&lt;% target.eContainer (&quot;Scenario&quot;).ownedEvents.operation.filter (&quot;ComponentExchange&quot;).nSize > 0 %>" elementsToListen="&lt;% target.eContainer (&quot;Scenario&quot;) %>">
              <listeners domainClass="interaction.Scenario" featureName="ownedInteractionFragments"/>
            </filters>
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceIR.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="FE"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="ASYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEvent" referenceName="ownedEvents" variableName="execEvent"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="ASYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEnd" referenceName="ownedInteractionFragments" variableName="end">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="endExec"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$execEvent%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$end%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking a Communication Mean with return branch between the Source and Target Lifelines representing existing Operational Entities Parts. This tool opens a selection wizard to select an available existing Communication Mean or to create a new one between these Operational Entities.&#xD;&#xA;This tool is masked as soon as an Operational Interaction is displayed on the scenario." name="CommunicationMean Return Branch" precondition="&lt;% $preTarget.representedInstance.filter (&quot;Role&quot;).nSize == 0 %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']" connectionStartPrecondition="&lt;% $preSource.representedInstance.filter (&quot;Role&quot;).nSize == 0 %>">
            <filters precondition="&lt;% target.eContainer (&quot;Scenario&quot;).ownedEvents.operation.filter (&quot;FunctionalExchange&quot;).nSize > 0 %>" elementsToListen="&lt;% target.eContainer (&quot;Scenario&quot;) %>">
              <listeners domainClass="interaction.Scenario" featureName="ownedInteractionFragments"/>
            </filters>
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% getScenario () %>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% traceScenario ($messageEndBefore) %>"/>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="CE"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="SYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="SYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="reply">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName + &quot;_reply&quot;%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="REPLY"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($call)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $receivingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$reply%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingReplyEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$sendingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking a Communication Mean with return branch between the Source and Target Lifelines representing existing Operational Entities Parts. This tool opens a selection wizard to select an available existing Communication Mean or to create a new one between these Operational Entities." name="Communication Mean" precondition="&lt;% $preTarget.representedInstance.filter (&quot;Role&quot;).nSize == 0 %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/AsyncSequenceMessage.gif" connectionStartPrecondition="&lt;% $preSource.representedInstance.filter (&quot;Role&quot;).nSize == 0 %>">
            <filters precondition="&lt;% target.eContainer (&quot;Scenario&quot;).ownedEvents.operation.filter (&quot;FunctionalExchange&quot;).nSize > 0 %>" elementsToListen="&lt;% target.eContainer (&quot;Scenario&quot;) %>">
              <listeners domainClass="interaction.Scenario" featureName="ownedInteractionFragments"/>
            </filters>
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceIR.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="CE"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="ASYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEvent" referenceName="ownedEvents" variableName="execEvent"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="ASYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEnd" referenceName="ownedInteractionFragments" variableName="end">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="endExec"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$execEvent%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$end%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Create Sequence Message invoking an Operational Interaction or Communication Mean between the Source and Target Lifelines representing existing Operational Entities Parts. This tool opens a selection wizard to select an available existing Operational Interaction or Communication Mean." name="Create message" precondition="&lt;% allowCreateMessageCreation ($preTargetView.target, $preSourceView.target, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd) %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CreateSequenceMessage.gif">
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceVIew"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceIR.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="CREATE"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="create call"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($sendingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($sendingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Create Sequence Message invoking an Operational Interaction or Communication Mean between the Source and Target Lifelines representing existing Operational Entities Parts. This tool opens a selection wizard to select an available existing Operational Interaction or Communication Mean." name="Delete message" precondition="&lt;% allowDeleteMessageCreation ($preTargetView.target, $preSourceView.target, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd)%>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/DeleteSequenceMessage.gif">
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceVIew"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceIR.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="DELETE"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="delete call"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($sendingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($sendingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Timers">
            <tools xsi:type="tool_2:MessageCreationTool" documentation="Create a new sequence message to arm a timer." name="Arm timer" precondition="&lt;% $preSource == $preTarget%>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Timer%20message%20mapping%20OA']">
              <sourceVariable name="source">
                <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
              </sourceVariable>
              <targetVariable name="target">
                <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
              </targetVariable>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source.eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ArmTimerEvent" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ArmTimerEvent" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEvent" referenceName="ownedEvents" variableName="execEvent"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                    <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="TIMER"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Arm Timer"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%$call.name%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%$call.name%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEnd" referenceName="ownedInteractionFragments" variableName="end">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="endExec"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$execEvent%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$end%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="messageEndAfter"/>
            </tools>
            <tools xsi:type="tool_2:MessageCreationTool" documentation="Create a new sequence message to cancel a prieviously armed timer." name="Cancel timer" precondition="&lt;% $preSource == $preTarget%>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Timer%20message%20mapping%20OA']">
              <sourceVariable name="source">
                <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
              </sourceVariable>
              <targetVariable name="target">
                <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
              </targetVariable>
              <sourceViewVariable name="sourceView"/>
              <targetViewVariable name="targetView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source.eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CancelTimerEvent" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CancelTimerEvent" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEvent" referenceName="ownedEvents" variableName="execEvent"/>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                    <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="TIMER"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Cancel Timer"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%$call.name%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%$call.name%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                      <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEnd" referenceName="ownedInteractionFragments" variableName="end">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="endExec"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$execEvent%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$end%>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="messageEndAfter"/>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="delete capella elements OA" precondition="&lt;%!($containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target + $containerView[filter(&quot;DDiagram&quot;)].target.ancestor + $containerView[filter(&quot;DDiagram&quot;)].target + $containerView[!filter(&quot;DDiagram&quot;)].eContainer(&quot;DDiagram&quot;).target.ancestor).nContains($element)%>">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $element %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="deleteCapellaElement" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteExternalAction"/>
              </firstModelOperations>
            </initialOperation>
            <hook id="org.polarsys.capella.core.sirius.analysis.delete.CapellaDeleteActionHook"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="no delete OA">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:ReorderTool" name="reorder" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Timer%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='creation%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='destruction%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='InteractionUse%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']/@borderedNodeMappings[name='InteractionState%20Mapping%20OA']">
            <startingEndPredecessorAfter name="startingEndPredecessorAfter"/>
            <finishingEndPredecessorAfter name="finishingEndPredecessorAfter"/>
            <onEventMovedOperation>
              <firstModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.actions.extensions.DoReorder" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.DoReorder">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current  %>"/>
                <parameters name="context" value="&lt;% current %>"/>
                <parameters name="STARTING_END_PREDECESSOR" value="&lt;% $startingEndPredecessorAfter.semanticEnd %>"/>
                <parameters name="FINISHING_END_PREDECESSOR" value="&lt;% $finishingEndPredecessorAfter.semanticEnd %>"/>
              </firstModelOperations>
            </onEventMovedOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InteractionUseCreationTool" documentation="Creates a Reference to existing Operational Entity Scenario covering Target Lifelines representing existing Operational Entity/Actor/Role Parts." name="Reference" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='InteractionUse%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/InteractionUse.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select Scenario" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% eContainer (&quot;Scenario&quot;) %>"/>
                  <parameters name="scope" value="&lt;% eContainer(&quot;Scenario&quot;).getReferenceScope()%>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedScenario"/>
                  <parameters name="wizardMessage" value="Select a Scenario"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedScenario != &quot;WIZARD_CANCELED&quot; %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionUse" referenceName="ownedTimeLapses" variableName="interactionUse">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="interactionUse"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedScenario" valueExpression="&lt;% $selectedScenario %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
            <coveredLifelines name="coveredLifeLines"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Operand Group">
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind LOOP covering Target Lifelines representing existing Component/Actor Parts." name="LOOP" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA']/@subContainerMappings[name='OperandOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="LOOP"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind ALT covering Target Lifelines representing existing Component/Actor Parts. Operands should be added to the combined Fragment." name="ALT" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA']/@subContainerMappings[name='OperandOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="ALT"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind PAR covering Target Lifelines representing existing Component/Actor Parts. Operands should be added to the combined Fragment." name="PAR" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA']/@subContainerMappings[name='OperandOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="PAR"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with selected kind covering Target Lifelines representing existing Component/Actor Parts. Operands should be added to the combined Fragment." name="Other Combined Fragment" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA']/@subContainerMappings[name='OperandOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="SelectElementFromListWizard" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                    <parameters name="context" value="&lt;% $container.eContainer (&quot;Scenario&quot;) %>"/>
                    <parameters name="scope" value="&lt;% getOperators () %>"/>
                    <parameters name="multiple" value="false"/>
                    <parameters name="resultVariable" value="selectedOperator"/>
                    <parameters name="wizardMessage" value="Select an operator for the Combined Fragment."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedOperator != &quot;WIZARD_CANCELED&quot; %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="&lt;% $selectedOperator %>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_2:OperandCreationTool" documentation="Creates a new Operand within the target Combined Fragment. " name="Operand" precondition="&lt;%$container.operator!=&quot;LOOP&quot;%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentOA']/@subContainerMappings[name='OperandOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/InteractionOperand.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% $container.start.coveredInstanceRoles%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.getFragmentFromContained () %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="rename instance role OA" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% representedInstance %>">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="rename basic message OA" inputLabelExpression="&lt;% sendingEnd.event.operation.name %>">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% sendingEnd.event.operation %>">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:StateCreationTool" documentation="Create a State Fragment referencing an existing Operational Activity allocated to Target Operational Entity. This tool opens a selection wizard to select an available Operational Activity." name="Activity state" label="Activity" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']/@borderedNodeMappings[name='InteractionState%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select Function" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% getFunctionsForStateAtOA(getCoveredFromExecOrIR($container) .representedInstance) %>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedFunction"/>
                  <parameters name="wizardMessage" value="Select a Function"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedFunction != &quot;WIZARD_CANCELED&quot;  &amp;&amp; $selectedFunction!=null %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionState">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractFunction" valueExpression="&lt;% $selectedFunction %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionStateEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractFunction" valueExpression="&lt;% $selectedFunction %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($interactionState)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.StateFragment" referenceName="ownedTimeLapses">
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractFunction" valueExpression="&lt;% $selectedFunction %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$interactionState %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$interactionStateEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:StateCreationTool" documentation="Create a State Fragment referencing an existing State/Mode of the Target Operational Entity. This tool opens a selection wizard to select an available State/Mode." name="State / Mode" label="State / Mode" forceRefresh="true" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA']/@borderedNodeMappings[name='InteractionState%20Mapping%20OA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select State" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% getCoveredFromExecOrIR($container).representedInstance.getISStateModes() %>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedState"/>
                  <parameters name="wizardMessage" value="Select a Mode/State"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedState != &quot;WIZARD_CANCELED&quot; &amp;&amp; $selectedState !=null  %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionState">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionStateEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($interactionState)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.StateFragment" referenceName="ownedTimeLapses">
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$interactionState %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$interactionStateEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="Drop Component" precondition="&lt;% $element.filter (&quot;AbstractInstance&quot;).nSize () + $element.filter (&quot;Component&quot;).nSize () != 0 %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $newSemanticContainer %>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% isValidScenarioDrop (eContainer (&quot;Scenario&quot;), $element) %>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $element.eContainer(&quot;ModellingArchitecture&quot;) ==  $newSemanticContainer.eContainer(&quot;ModellingArchitecture&quot;) %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$element.name%>"/>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $element.filter (&quot;Role&quot;).nSize () != 0 %>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;% $element %>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $element.filter (&quot;Role&quot;).nSize () == 0 %>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;% $element.abstractTypedElements.nFirst %>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new constraint duration between two interaction fragments of the sequence diagram." name="Duration" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='ConstraintDurationOA']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/BracketEdgeStyle.gif" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='endOfLifeOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20OA']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='endOfLifeOA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']/@borderedNodeMappings[name='default%20execution%20OA']/@borderedNodeMappings[name='Execution%20OA'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20OA']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="ConstraintDuration" referenceName="ownedConstraintDurations" variableName="duration">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% getCorrespondingIFStart ($source, $target)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% getCorrespondingIFFinish ($target, $source)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="Set Duration">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="duration" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleReorderTool" name="IRReorder" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='Instancerole%20Mapping%20OA']">
            <predecessorBefore name="predecessorBefore"/>
            <predecessorAfter name="predecessorAfter"/>
            <instanceRoleMoved>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.actions.extensions.doIRReorder" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.doIRReorder">
                  <parameters name="PREDECESSOR_BEFORE" value="&lt;% $predecessorBefore %>"/>
                  <parameters name="PREDECESSOR_AFTER" value="&lt;% $predecessorAfter %>"/>
                  <parameters name="SCENARIO" value="&lt;% self.eContainer (&quot;Scenario&quot;) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </instanceRoleMoved>
          </ownedTools>
          <reusedTools xsi:type="tool:ToolDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='ExchangeContext']"/>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElementScenario" label="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,false)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_3:SequenceDiagramDescription" name="Activity Interaction Scenario" label="Activity Scenario" titleExpression="&lt;%current.name.addScenarioPrefix(&quot;[OAS]&quot;)%>" domainClass="interaction.Scenario" preconditionExpression="&lt;%isValidActivityScenario %>" endsOrdering="&lt;% getOrderedInteractionFragments () &amp;&amp; $eventEnds %>" instanceRolesOrdering="&lt;% ownedInstanceRoles%>">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Drop%20Component']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide executions">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide PrePost conditions" label="Hide pre and post conditions">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='postconditionMapping'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='preconditionMapping']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems" label="Show [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabel%20AIS']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show ExchangeItems parameters" label="Show EI1(param1:type1, param2:type2), EI2(param3:type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabel%20AIS']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems]" label="Show I [EI1, EI2]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges (Parameters)" label="Show I (type1, type2, type3)">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Show Functional Exchanges [ExchangeItems(Parameters)]" label="Show I [EI1(param1:type1, param2:type2), EI2(param3:type3)]">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="ShowExchangeContext" label="Show {Exchange Context}">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="ShowFEExchangeContext" label="Show I {Exchange Context}">
        <filters xsi:type="filter:MappingFilter" filterKind="COLLAPSE">
          <mappings xsi:type="description_3:InstanceRoleMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Exchanges%20Scenario']/@defaultLayer/@nodeMappings[name='hideSequenceLabelDF']"/>
        </filters>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <diagramInitialisation>
        <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current%>">
          <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="INTERACTION"/>
        </firstModelOperations>
      </diagramInitialisation>
      <defaultLayer name="Default">
        <nodeMappings xsi:type="description_3:InstanceRoleMapping" name="InstanceRoleMaping AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20instance%20role%20AIS']" semanticCandidatesExpression="&lt;% ownedInstanceRoles %>" domainClass="interaction.InstanceRole">
          <borderedNodeMappings xsi:type="description_3:ExecutionMapping" name="default execution AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% self %>" synchronizationLock="true" domainClass="interaction.InstanceRole" reusedBorderedNodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']/@borderedNodeMappings[name='InteractionState%20Mapping%20AIS']" startingEndFinderExpression="&lt;% self %>" finishingEndFinderExpression="&lt;% self %>">
            <borderedNodeMappings xsi:type="description_3:ExecutionMapping" name="Execution AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% getExecutionsFromInstanceRoleOrParentExecution () %>" synchronizationLock="true" domainClass="interaction.Execution" reusedBorderedNodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>">
              <borderedNodeMappings xsi:type="description_3:StateMapping" name="InteractionState Mapping AIS" semanticCandidatesExpression="&lt;% getInteractionStatesOnExecution () %>" domainClass="interaction.StateFragment" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>">
                <deletionDescription href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='System%20Function%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']"/>
                <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;% relatedAbstractFunction.capellaLabelService($view, $diagram)%>" labelPosition="node" resizeKind="NSEW" width="10" height="3">
                  <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                  <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
                  <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
                </style>
                <conditionnalStyles predicateExpression="&lt;% relatedAbstractState != null &amp;&amp; relatedAbstractState.filter(&quot;Mode&quot;).nSize() > 0 %>">
                  <style xsi:type="style:EllipseNodeDescription" showIcon="false" labelExpression="&lt;% relatedAbstractState.capellaLabelService($view, $diagram) %>" labelPosition="node" resizeKind="NSEW" horizontalDiameterComputationExpression="10" verticalDiameterComputationExpression="3">
                    <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_StateMode_Border_Gray']"/>
                    <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                    <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Mode_Gray']"/>
                  </style>
                </conditionnalStyles>
                <conditionnalStyles predicateExpression="&lt;% relatedAbstractState != null &amp;&amp; relatedAbstractState.filter(&quot;Mode&quot;).nSize() == 0 %>">
                  <style xsi:type="style:EllipseNodeDescription" showIcon="false" labelExpression="&lt;% relatedAbstractState.capellaLabelService($view, $diagram) %>" labelPosition="node" resizeKind="NSEW" horizontalDiameterComputationExpression="10" verticalDiameterComputationExpression="3">
                    <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_StateMode_Border_Gray']"/>
                    <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                    <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_State_Gray']"/>
                  </style>
                </conditionnalStyles>
              </borderedNodeMappings>
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="" resizeKind="NSEW" width="1" height="3">
                <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
                <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
                <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
              </style>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_3:EndOfLifeMapping" name="Lifeline deletion mapping AIS" preconditionExpression="&lt;% eContainer.ownedMessages[kind==&quot;DELETE&quot;].receivingEnd.covered.nContains (self) %>" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='no%20delete%20AIS']" semanticCandidatesExpression="&lt;% self %>" synchronizationLock="true" domainClass="interaction.InstanceRole">
              <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="&lt;% &quot;&quot; %>" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/eol.png">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_3:EndOfLifeMapping" name="endOfLifeAIS" preconditionExpression="&lt;% ! (eContainer.ownedMessages[kind==&quot;DELETE&quot;].receivingEnd.covered.nContains (self)) %>" semanticCandidatesExpression="&lt;% self %>" domainClass="interaction.InstanceRole">
              <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Package%20Dependencies']/@defaultLayer/@toolSections.0/@ownedTools[name='No%20Delete']"/>
              <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="&lt;% &quot;&quot; %>" sizeComputationExpression="1" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/handlelifeline.png">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="" sizeComputationExpression="" labelPosition="node" resizeKind="NSEW" width="1" height="40">
              <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Lifeline_Gray']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
            </style>
          </borderedNodeMappings>
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" labelExpression="&lt;%getInstanceRoleLabel ()%>" labelPosition="node" resizeKind="EAST_WEST" width="10" height="5">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Border_Orange']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_xAB_Activity_Label_Orange']"/>
            <color xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Activity_Orange']"/>
          </style>
        </nodeMappings>
        <nodeMappings xsi:type="description_3:InstanceRoleMapping" name="hideSequenceLabel AIS" semanticCandidatesExpression="ocl:Set {}" domainClass="EObject"/>
        <nodeMappings xsi:type="description_3:ObservationPointMapping" name="ObservationPoint AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='no%20delete%20AIS']" semanticCandidatesExpression="&lt;% ownedConstraintDurations.start + ownedConstraintDurations.finish %>" domainClass="InteractionFragment">
          <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="" sizeComputationExpression="1" labelPosition="node" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/observation.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="preconditionMapping" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% preCondition %>" domainClass="capellacore.Constraint">
          <style xsi:type="style:NoteDescription" showIcon="false" labelExpression="&lt;%&quot;pre:&quot; + getConstraintLabel() %>" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </nodeMappings>
        <nodeMappings name="postconditionMapping" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% postCondition %>" domainClass="capellacore.Constraint">
          <style xsi:type="style:NoteDescription" showIcon="false" labelExpression="&lt;%&quot;post:&quot; + getConstraintLabel() %>" sizeComputationExpression="5" labelPosition="node" resizeKind="NSEW">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </nodeMappings>
        <edgeMappings xsi:type="description_3:BasicMessageMapping" name="Basic message mapping AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='rename%20basic%20message%20AIS']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;SYNCHRONOUS_CALL&quot; || kind == &quot;ASYNCHRONOUS_CALL&quot;] %>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;% getDFMessageName($diagram) %>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:ReturnMessageMapping" name="return message mapping AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;REPLY&quot;]%>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>" invocationMessageFinderExpression="&lt;% getInvocationMessage ()%>">
          <style lineStyle="dash">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:CreationMessageMapping" name="creation message mapping AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;CREATE&quot;]%>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_3:DestructionMessageMapping" name="destruction message mapping AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" semanticCandidatesExpression="&lt;% ownedMessages [kind == &quot;DELETE&quot;]%>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Lifeline%20deletion%20mapping%20AIS']" targetFinderExpression="&lt;% getReceivingEnd () %>" sourceFinderExpression="&lt;% getSendingEnd () %>" domainClass="interaction.SequenceMessage" useDomainElement="true" sendingEndFinderExpression="&lt;% sendingEnd %>" receivingEndFinderExpression="&lt;% receivingEnd %>">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="ConstraintDuration AIS" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements%20OA']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Set%20Duration']" semanticCandidatesExpression="feature:ownedConstraintDurations" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='ObservationPoint%20AIS']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='ObservationPoint%20AIS']" targetFinderExpression="&lt;% finish %>" sourceFinderExpression="&lt;% start %>" domainClass="interaction.ConstraintDuration" useDomainElement="true">
          <style xsi:type="style:BracketEdgeStyleDescription" sourceArrow="InputArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='orange']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;% duration %>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_gray']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings xsi:type="description_3:InteractionUseMapping" name="InteractionUse AIS" semanticCandidatesExpression="&lt;% ownedTimeLapses.filter (&quot;InteractionUse&quot;) %>" semanticElements="&lt;%  self +  referencedScenario + referencedScenario.eContainer (&quot;AbstractCapability&quot;)%>" domainClass="interaction.InteractionUse" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>" coveredLifelinesExpression="&lt;% getCoveredFromAbstractFragment  () %>" centerLabelExpression="&lt;% referencedScenario.name  %>">
          <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression=" ref" labelAlignment="LEFT">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings xsi:type="description_3:CombinedFragmentMapping" name="CombinedFragmentAIS" semanticCandidatesExpression="&lt;% ownedTimeLapses.filter (&quot;CombinedFragment&quot;) %>" synchronizationLock="true" domainClass="interaction.CombinedFragment" startingEndFinderExpression="&lt;% start %>" finishingEndFinderExpression="&lt;% finish %>" coveredLifelinesExpression="&lt;% getCoveredFromAbstractFragment () %>">
          <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
          <subContainerMappings xsi:type="description_3:OperandMapping" name="OperandAIS" semanticCandidatesExpression="&lt;% referencedOperands %>" synchronizationLock="true" domainClass="interaction.InteractionOperand" startingEndFinderExpression="&lt;% getOperandBegin () %>" finishingEndFinderExpression="&lt;% getOperandEnd ()%>">
            <deletionDescription href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Contextual%20Component%20Detailed%20Interfaces']/@defaultLayer/@toolSections.0/@ownedTools[name='delete%20capella%20elements']"/>
            <labelDirectEdit href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Direct%20edit%20operand']"/>
            <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="&lt;% getOperandLabel () %>" labelAlignment="LEFT">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
              <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            </style>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression=" &lt;% operator %>" labelAlignment="LEFT">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_CombinedFragment_Gray']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ExchangeContext']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="tools section" label="Scenario Elements">
          <ownedTools xsi:type="tool_2:InstanceRoleCreationTool" name="Activity" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActivity.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="eContainer (&quot;BlockArchitecture&quot;)">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer(&quot;BlockArchitecture&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ownedFunctionPkg.ownedOperationalActivities.nGet(0)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActivity" referenceName="ownedFunctions" variableName="component">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;)%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                    <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$component %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$component.name%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($component) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <predecessor name="predecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleCreationTool" name="Activities" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="Select Function" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromTransferWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% eContainer (&quot;ModellingArchitecture&quot;).ownedFunctionPkg.eAllContents.filter (&quot;OperationalActivity&quot;) %>"/>
                  <parameters name="initialSelection" value="&lt;% $containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;).representedInstance  %>"/>
                  <parameters name="wizardMessage" value=""/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:For" expression="&lt;% $result %>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $i != &quot;WIZARD_CANCELED&quot; %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container %>">
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;).representedInstance.nContains ($i)) %>">
                        <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                          <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;%$i%>"/>
                          <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$i.name%>"/>
                        </subModelOperations>
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% reorderInstanceRole ($instance, $predecessor) %>"/>
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% ensureCapabilityInvolvment ($i) %>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.delete.RemoveInstanceRoles" forceRefresh="true" id="org.polarsys.capella.core.sirius.analysis.delete.RemoveInstanceRoles">
                  <parameters name="result" value="&lt;% $result %>"/>
                  <parameters name="current" value="&lt;% $containerView.eContainer(&quot;DDiagram&quot;).eAllContents(&quot;DSemanticDecorator&quot;).target.filter(&quot;InstanceRole&quot;) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <predecessor name="predecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking an Interaction without return branch between the Source and Target Lifelines representing existing Operational Activities. This tool opens a selection wizard to select an available existing Interaction or to create a new one between these Operational Activities." name="Functional Exchange" label="Interaction" precondition="&lt;% allowMessageCreation ($preSource, $preTarget, true, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd) %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/AsyncSequenceMessage.gif" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']">
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceIR.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="FEF"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="ASYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEvent" referenceName="ownedEvents" variableName="execEvent"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="ASYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;% $call.name%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.ExecutionEnd" referenceName="ownedInteractionFragments" variableName="end">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="endExec"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$execEvent%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$end%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" documentation="Creates a new Sequence Message invoking an Interaction with return branch between the Source and Target Lifelines representing existing Operational Activities. This tool opens a selection wizard to select an available existing Interaction or to create a new one between these Operational Activities." name="Functional Exchange with return branch" label="Interaction with return branch" precondition="&lt;% allowMessageCreation ($preSource, $preTarget, true, $messageEndBefore.semanticEnd, $messageEndAfter.semanticEnd) %>" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20AIS']" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']">
            <sourceVariable name="source">
              <subVariables xsi:type="tool:AcceleoVariable" name="sourceIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </sourceVariable>
            <targetVariable name="target">
              <subVariables xsi:type="tool:AcceleoVariable" name="targetIR" computationExpression="&lt;%if (filter(&quot;Execution&quot;).nSize > 0) {%>&lt;%covered%>&lt;%}else{%>&lt;%current%>&lt;%}%>"/>
            </targetVariable>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% getScenario () %>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% traceScenario ($messageEndBefore) %>"/>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectServiceDialogBox" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessageDialogBox">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="exchangeType" value="FEF"/>
                  <parameters name="sourceIR" value="&lt;% $sourceIR %>"/>
                  <parameters name="targetIR" value="&lt;% $targetIR %>"/>
                  <parameters name="messageKind" value="SYNCHRONOUS_CALL"/>
                  <parameters name="resultVariable" value="result"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationCall"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventSentOperation" referenceName="ownedEvents" variableName="eventSentOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.EventReceiptOperation" referenceName="ownedEvents" variableName="eventReceiptOperationReply"/>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="call">
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="SYNCHRONOUS_CALL"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd == null ||  $messageEndBefore.semanticEnd.getPreviousMessageEnd == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessageOnBegining%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore.semanticEnd != null &amp;&amp;  $messageEndBefore.semanticEnd.getPreviousMessageEnd != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($messageEndBefore.semanticEnd.getPreviousMessageEnd.message)%>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.SequenceMessage" referenceName="ownedMessages" variableName="reply">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%newCallName + &quot;_reply&quot;%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="kind" valueExpression="REPLY"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveMessage($call)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter != null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndAfter.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndAfter.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $messageEndAfter == null %>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;% $receivingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationCall%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $call %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="sendingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Send Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$targetIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($receivingEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventSentOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $sendingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.MessageEnd" referenceName="ownedInteractionFragments" variableName="receivingReplyEnd">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="Receive Call &lt;%newCallName%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$sourceIR%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($sendingReplyEnd)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="event" valueExpression="&lt;%$eventReceiptOperationReply%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $reply %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;% $receivingReplyEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$reply%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingReplyEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$call%>">
                  <subModelOperations xsi:type="tool:SetValue" featureName="sendingEnd" valueExpression="&lt;%$sendingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="receivingEnd" valueExpression="&lt;%$receivingEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Execution" referenceName="ownedTimeLapses">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$receivingEnd%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$sendingReplyEnd%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="affectService" id="org.polarsys.capella.core.sirius.analysis.affectToSequenceMessage">
                  <parameters name="message" value="&lt;% $call %>"/>
                  <parameters name="affected" value="&lt;% $result %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="messageEndAfter"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:ReorderTool" name="reorder" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='creation%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='destruction%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='InteractionUse%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']/@borderedNodeMappings[name='InteractionState%20Mapping%20AIS']">
            <startingEndPredecessorAfter name="startingEndPredecessorAfter"/>
            <finishingEndPredecessorAfter name="finishingEndPredecessorAfter"/>
            <onEventMovedOperation>
              <firstModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.actions.extensions.DoReorder" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.DoReorder">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current  %>"/>
                <parameters name="context" value="&lt;% current %>"/>
                <parameters name="STARTING_END_PREDECESSOR" value="&lt;% $startingEndPredecessorAfter.semanticEnd %>"/>
                <parameters name="FINISHING_END_PREDECESSOR" value="&lt;% $finishingEndPredecessorAfter.semanticEnd %>"/>
              </firstModelOperations>
            </onEventMovedOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramCreationDescription" name="Activity Scenario" precondition="&lt;%isInLib()%>" titleExpression="&lt;%current.name.addScenarioPrefix(&quot;[OAS]&quot;)%> - Operational Activity Scenario" browseExpression="&lt;%ownedScenarios.nLast()%>" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']">
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%current%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.Scenario" referenceName="ownedScenarios">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$diagramName%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramNavigationDescription" name="Existing Activity Scenario" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InteractionUseCreationTool" documentation="Creates a Reference to an existing Operational Activity Scenario covering Target Lifelines representing existing Operational Activities." name="Reference" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='InteractionUse%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/InteractionUse.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select Scenario" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% eContainer (&quot;Scenario&quot;) %>"/>
                  <parameters name="scope" value="&lt;% eContainer(&quot;Scenario&quot;).getReferenceScope()%>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedScenario"/>
                  <parameters name="wizardMessage" value="Select a Scenario"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedScenario != &quot;WIZARD_CANCELED&quot; %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfInstanceRole%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnInstanceRole($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionUse" referenceName="ownedTimeLapses" variableName="interactionUse">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="interactionUse"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedScenario" valueExpression="&lt;% $selectedScenario %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
            <coveredLifelines name="coveredLifeLines"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ToolGroup" name="Operand Group">
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind LOOP (repeated part of the Scenario) and involving the covered Lifelines. " name="LOOP" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS']/@subContainerMappings[name='OperandAIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="LOOP"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind ALT (Alternative) and involving the covered Lifelines. Operands should be added to the combined Fragment." name="ALT" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS']/@subContainerMappings[name='OperandAIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="ALT"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with the kind PAR (Parallel) and involving the covered Lifelines. Operands should be added to the combined Fragment." name="PAR" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS']/@subContainerMappings[name='OperandAIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="PAR"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
            <tools xsi:type="tool_2:CombinedFragmentCreationTool" documentation="Creates a Combined Fragment with selected kind and involving the covered Lifelines. The Kind of the Fragment has to be set using the Property Editors." name="Other Combined Fragment" forceRefresh="true" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS']/@subContainerMappings[name='OperandAIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CombinedFragment.gif">
              <variable name="container"/>
              <viewVariable name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer (&quot;Scenario&quot;) %>">
                  <subModelOperations xsi:type="tool:ExternalJavaAction" name="SelectElementFromListWizard" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                    <parameters name="context" value="&lt;% $container.eContainer (&quot;Scenario&quot;) %>"/>
                    <parameters name="scope" value="&lt;% getOperators () %>"/>
                    <parameters name="multiple" value="false"/>
                    <parameters name="resultVariable" value="selectedOperator"/>
                    <parameters name="wizardMessage" value="Select an operator for the Combined Fragment."/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedOperator != &quot;WIZARD_CANCELED&quot; %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="finishFE">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="end"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor == null %>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $finishingEndPredecessor != null %>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($finishingEndPredecessor.semanticEnd)%>"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.FragmentEnd" referenceName="ownedInteractionFragments" variableName="startFE">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="start"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                      </subModelOperations>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand 1"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;%$coveredLifeLines %>"/>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startFE)%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.CombinedFragment" referenceName="ownedTimeLapses" variableName="combinedFragment">
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="combined fragment"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% $startFE%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% $finishFE %>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="operator" valueExpression="&lt;% $selectedOperator %>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                    </subModelOperations>
                  </subModelOperations>
                </firstModelOperations>
              </initialOperation>
              <startingEndPredecessor name="messageEndBefore"/>
              <finishingEndPredecessor name="finishingEndPredecessor"/>
              <coveredLifelines name="coveredLifeLines"/>
            </tools>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="rename instance role AIS" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current%>">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="rename basic message AIS" inputLabelExpression="&lt;% sendingEnd.event.operation.name %>">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% sendingEnd.event.operation %>">
                <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:OperandCreationTool" documentation="Creates a new Operand within the selected Combined Fragment. " name="Operand" precondition="&lt;%$container.operator!=&quot;LOOP&quot;%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@containerMappings[name='CombinedFragmentAIS']/@subContainerMappings[name='OperandAIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/InteractionOperand.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% eContainer (&quot;Scenario&quot;) %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionOperand" referenceName="ownedInteractionFragments" variableName="operand">
                  <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="operand"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% $container.start.coveredInstanceRoles%>"/>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore == null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$messageEndBefore != null%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($messageEndBefore.semanticEnd)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.getFragmentFromContained () %>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="referencedOperands" valueExpression="&lt;% $operand %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="messageEndBefore"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="Drop Component" precondition="&lt;% $element.filter (&quot;AbstractInstance&quot;).nSize () != 0 %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $newSemanticContainer %>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% isValidScenarioDrop (eContainer (&quot;Scenario&quot;), $element) %>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $element.eContainer(&quot;ModellingArchitecture&quot;) ==  $newSemanticContainer.eContainer(&quot;ModellingArchitecture&quot;) %>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InstanceRole" referenceName="ownedInstanceRoles">
                      <subModelOperations xsi:type="tool:SetValue" featureName="representedInstance" valueExpression="&lt;% $element%>"/>
                      <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$element.name%>"/>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:StateCreationTool" documentation="Create a State Fragment referencing an existing State/Mode of the Target Component/Actor. This tool opens a selection wizard to select an available State/Mode." name="State / Mode" label="State / Mode" forceRefresh="true" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']/@borderedNodeMappings[name='InteractionState%20Mapping%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select State" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;% getCoveredFromExecOrIR($container).representedInstance.getISStateModes() %>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedState"/>
                  <parameters name="wizardMessage" value="Select a Mode/State"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $selectedState != &quot;WIZARD_CANCELED&quot; &amp;&amp; $selectedState !=null  %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionState">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor == null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnBeginingOfScenario%>"/>
                    </subModelOperations>
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$startingEndPredecessor != null%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($startingEndPredecessor.semanticEnd)%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.InteractionState" referenceName="ownedInteractionFragments" variableName="interactionStateEnd">
                    <subModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;% $selectedFunction.name %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="coveredInstanceRoles" valueExpression="&lt;% getCoveredFromExecOrIR($container) %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%moveEndOnScenario($interactionState)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="interaction.StateFragment" referenceName="ownedTimeLapses">
                    <subModelOperations xsi:type="tool:SetValue" featureName="relatedAbstractState" valueExpression="&lt;% $selectedState %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;%$interactionState %>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;%$interactionStateEnd %>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new constraint duration between two interaction fragments of the sequence diagram." name="Duration" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='ConstraintDuration%20AIS']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/BracketEdgeStyle.gif" extraSourceMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='endOfLifeAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']/@borderedNodeMappings[name='InteractionState%20Mapping%20AIS']" extraTargetMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='Basic%20message%20mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='endOfLifeAIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']/@borderedNodeMappings[name='default%20execution%20AIS']/@borderedNodeMappings[name='Execution%20AIS']/@borderedNodeMappings[name='InteractionState%20Mapping%20AIS'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@edgeMappings[name='return%20message%20mapping%20AIS']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source.eContainer(&quot;Scenario&quot;)%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="ConstraintDuration" referenceName="ownedConstraintDurations" variableName="duration">
                  <subModelOperations xsi:type="tool:SetValue" featureName="start" valueExpression="&lt;% getCorrespondingIFStart ($source, $target)%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="finish" valueExpression="&lt;% getCorrespondingIFFinish ($target, $source)%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="Set Duration">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="duration" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:InstanceRoleReorderTool" name="IRReorder" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@nodeMappings[name='InstanceRoleMaping%20AIS']">
            <predecessorBefore name="predecessorBefore"/>
            <predecessorAfter name="predecessorAfter"/>
            <instanceRoleMoved>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% current %>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="org.polarsys.capella.core.sirius.analysis.actions.extensions.doIRReorder" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.doIRReorder">
                  <parameters name="PREDECESSOR_BEFORE" value="&lt;% $predecessorBefore %>"/>
                  <parameters name="PREDECESSOR_AFTER" value="&lt;% $predecessorAfter %>"/>
                  <parameters name="SCENARIO" value="&lt;% self.eContainer (&quot;Scenario&quot;) %>"/>
                </subModelOperations>
              </firstModelOperations>
            </instanceRoleMoved>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DeleteElementDescription" name="no delete AIS">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation/>
          </ownedTools>
          <reusedTools xsi:type="tool:ToolDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='ExchangeContext']"/>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@nodeMappings[name='Scenario_Constraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElementScenario" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Component%20Interfaces%20Scenario']/@defaultLayer/@edgeMappings[name='Scenario_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,false)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Process Description" titleExpression="[OPD] &lt;%current.name%>" domainClass="OperationalProcess">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Process%20Description']/@defaultLayer/@toolSections.0/@ownedTools[name='Dnd%20Function']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Process%20Description']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <layout xsi:type="description_2:CompositeLayout" direction="LeftToRight"/>
      <defaultLayer name="Default">
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@nodeMappings[name='FC_AbstractFunction']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@edgeMappings[name='FC_Exchange']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@nodeMappings[name='FC_FunctionalChain']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="Operational Processes" label="Operational Processes">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new step referencing the selected Operational Activity." name="Involve Operational Activity" precondition="&lt;%$containerView.isValidFCDInvolveFunction() %>" forceRefresh="true">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@nodeMappings[name='FC_AbstractFunction']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select Function" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;%$container.getFCDInvolveFunctionScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="selectedFunctions"/>
                  <parameters name="wizardMessage" value="Select Operational Activities to involve in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selectedFunctions != &quot;WIZARD_CANCELED&quot;%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedFunctions.filter(&quot;AbstractFunction&quot;)%>" iteratorName="selectedFunction">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainInvolvement" referenceName="ownedFunctionalChainInvolvements">
                        <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$selectedFunction%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new step referencing one existing Interaction between the Operational Activities respectively referenced by the preceeding and following steps." name="Involve Interaction" precondition="&lt;%isValidFCDInvolveFunctionalExchange($preSource,$preTarget) %>" forceRefresh="true">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@edgeMappings[name='FC_Exchange']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$sourceView.getDiagramContainer().target%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select Exchange" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $source %>"/>
                  <parameters name="scope" value="&lt;%$source.getFCDInvolveFunctionalExchangeScope($source, $target)%>"/>
                  <parameters name="multiple" value="false"/>
                  <parameters name="resultVariable" value="selectedExchange"/>
                  <parameters name="wizardMessage" value="Select an Interaction to involve."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selectedExchange != &quot;WIZARD_CANCELED&quot;%>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainInvolvement" referenceName="ownedFunctionalChainInvolvements" variableName="newInv">
                    <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$selectedExchange%>"/>
                    <subModelOperations xsi:type="tool:SetValue" featureName="nextFunctionalChainInvolvements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="nextFunctionalChainInvolvements" valueExpression="&lt;%$newInv%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new step referencing the selected Functional Chain." name="Involve Operational Process" precondition="&lt;%$containerView.isValidFCDInvolveFunctionalChain()%>" forceRefresh="true">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@nodeMappings[name='FC_FunctionalChain']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="select functional Chain" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $container %>"/>
                  <parameters name="scope" value="&lt;%$containerView.getFCDInvolveFunctionalChainScope()%>"/>
                  <parameters name="multiple" value="true"/>
                  <parameters name="resultVariable" value="selectedFunctions"/>
                  <parameters name="wizardMessage" value="Select an Operational Process to involve in &lt;%$container.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$selectedFunctions != &quot;WIZARD_CANCELED&quot;%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedFunctions.filter(&quot;FunctionalChain&quot;)%>" iteratorName="selectedFunction">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainReference" referenceName="ownedFunctionalChainInvolvements">
                        <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$selectedFunction%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates two new steps respectively referencing one existing outgoing Interaction and a target Operational Activity." name="Involve Interaction &amp; Target Activity" precondition="&lt;%$containerView.isValidFCDInvolveFunctionalExchangeAndFunction()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalChainInvolvement.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementFromListWizard">
                  <parameters name="context" value="&lt;% $element.involved%>"/>
                  <parameters name="scope" value="&lt;%$elementView.getFCDInvolveFunctionalExchangeAndFunctionScope()%>"/>
                  <parameters name="initialSelection" value="&lt;%getEmptyList()%>"/>
                  <parameters name="resultVariable" value="selectedExchanges"/>
                  <parameters name="wizardMessage" value="Select Interactions to involve from &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedExchanges != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedExchanges%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.eContainer%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainInvolvement" referenceName="ownedFunctionalChainInvolvements" variableName="invTargetFunction">
                        <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$i.getOutgoingAbstractFunction()%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainInvolvement" referenceName="ownedFunctionalChainInvolvements" variableName="invFE">
                        <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$i%>"/>
                        <subModelOperations xsi:type="tool:SetValue" featureName="nextFunctionalChainInvolvements" valueExpression="&lt;%$invTargetFunction%>"/>
                      </subModelOperations>
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                        <subModelOperations xsi:type="tool:SetValue" featureName="nextFunctionalChainInvolvements" valueExpression="&lt;%$invFE%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates two new steps respectively referencing one existing outgoing Functional Exchange and a target Functional Chain." name="Involve Interaction &amp; Target Operational Process" precondition="&lt;%$containerView.isValidFCDInvolveFunctionalExchangeAndFunctionalChain()%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/FunctionalChainReference.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectFunctionalExchanges" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectElementsFromCheckBoxWizard">
                  <parameters name="context" value="&lt;% $elementView %>"/>
                  <parameters name="resultVariable" value="selectedFunctionalExchanges"/>
                  <parameters name="wizardMessage" value="Select Interactions and Operational Processes to involve from &lt;%name%>"/>
                  <parameters name="type" value="EXCHANGES_FUNCTIONALCHAINS"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramCreationDescription" name="Operational Process Description" precondition="&lt;%isInLib()%>" titleExpression="[OPD] &lt;%current.name%>" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Process%20Description']">
            <initialOperation/>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="Dnd Function" precondition="&lt;%isA(&quot;AbstractFunction&quot;)%>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@nodeMappings[name='FC_AbstractFunction']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$newSemanticContainer%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="FunctionalChainInvolvement" referenceName="ownedFunctionalChainInvolvements">
                  <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$element%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:DeleteElementDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Functional%20Chain%20Description']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete%20FE%20Involvement']"/>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Operational Capabilities Blank" label="Operational Capabilities Blank" titleExpression="[OCB] &lt;%current.name%>" domainClass="OperationalCapabilityPkg">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Operational%20Capabilities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Communication Means">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_CommunicationMeans']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Involvement Links">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_EntityOperationalCapabilityInvolvement']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Extends">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Extends']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Includes">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Include']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Generalizations">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Generalization']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <defaultLayer name="Default">
        <nodeMappings name="COC_OperationalCapabilities" navigationDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Activity%20Scenario'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Entity%20Scenario'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Contextual%20Operational%20Capabilty']" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20OEB']" createElements="false" semanticElements="" domainClass="OperationalCapability">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Activity%20Scenario']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Entity%20Scenario%20']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='Contextual%20Operational%20Capabilty']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Interaction%20Blank']"/>
          <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" resizeKind="NSEW" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/OperationalCapability.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <edgeMappings name="COC_CommunicationMeans" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='Rename%20OEB']" semanticCandidatesExpression="&lt;%eContainer(&quot;OperationalAnalysis&quot;).getAllCommunicationMeans()%>" synchronizationLock="true" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" targetFinderExpression="feature:target" sourceFinderExpression="feature:source" domainClass="CommunicationMean" useDomainElement="true" reconnections="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='changeContainer']">
          <style targetArrow="InputFillClosedArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&lt;%getComponentExchangeLabel($diagram)%>">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC_EntityOperationalCapabilityInvolvement" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" semanticCandidatesExpression="service:diagram.getMBCapabilityInvolvementSemanticCandidates" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" targetFinderExpression="&lt;%involved%>" sourceFinderExpression="&lt;%involver%>" domainClass="EntityOperationalCapabilityInvolvement" useDomainElement="true">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC_OC_Extends" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" semanticCandidatesExpression="service:diagram.getMBCapabilityExtendSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetFinderExpression="&lt;% extended %>" sourceFinderExpression="&lt;% extension %>" domainClass="AbstractCapabilityExtend" useDomainElement="true">
          <style lineStyle="dot">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&#xab; e &#xbb;">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC_OC_Include" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" semanticCandidatesExpression="service:diagram.getMBCapabilityIncludeSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetFinderExpression="&lt;% included %>" sourceFinderExpression="&lt;% inclusion %>" domainClass="AbstractCapabilityInclude" useDomainElement="true">
          <style lineStyle="dot">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&#xab; i &#xbb;">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC_OC_Generalization" semanticCandidatesExpression="service:diagram.getMBCapabilityGeneralizationSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" targetFinderExpression="&lt;% super %>" sourceFinderExpression="&lt;% sub %>" domainClass="AbstractCapabilityGeneralization" useDomainElement="true">
          <deletionDescription href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='Contextual%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']"/>
          <style lineStyle="dot" targetArrow="InputClosedArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="COC_OperationalEntities" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Activity%20Interaction%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='name']" createElements="false" domainClass="Entity" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']" reusedContainerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Blank']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Role%20Blank']"/>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_min']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Entity" name="Operational Entity" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Entity.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Actor" name="Operational Actor" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActor.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Capability" name="Operational Capability" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Capability.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalCapability" referenceName="ownedOperationalCapabilities">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new Communication Mean between two Operational Entities / Actors" name="CommunicationMean" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_CommunicationMeans']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source.createABComponentExchange($sourceView, $targetView)%> "/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new Involvement relationship between a source Operational Capability and a target Operational Entity / Actor" name="Involvement" precondition="&lt;%!$preSource.ownedEntityOperationalCapabilityInvolvements.involved.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_EntityOperationalCapabilityInvolvement']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="EntityOperationalCapabilityInvolvement" referenceName="ownedEntityOperationalCapabilityInvolvements">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$target%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Capability Extension relationship between the Source and Target Capabilities." name="Extends" precondition="&lt;%!$preSource.extends.extended.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Extends']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Extend.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityExtend" referenceName="extends">
                  <subModelOperations xsi:type="tool:SetValue" featureName="extended" valueExpression="&lt;% $target %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Capability Inclusion relationship between the Source and Target Capabilities." name="Includes" precondition="&lt;%!$preSource.includes.included.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Include']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Include.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityInclude" referenceName="includes">
                  <subModelOperations xsi:type="tool:SetValue" featureName="included" valueExpression="&lt;% $target %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Capability Generalization relationship between the Source and Target Super Capabilities." name="Operational Capability Generalization" precondition="&lt;%!(getAllSuperCapabilities($preTarget).nContains($preSource)) &amp;&amp; eAllContents().filter(&quot;AbstractCapabilityGeneralization&quot;)[sub == $preSource &amp;&amp; super == $preTarget].nSize() == 0%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@edgeMappings[name='COC_OC_Generalization']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Generalization.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityGeneralization" referenceName="superGeneralizations">
                <subModelOperations xsi:type="tool:SetValue" featureName="super" valueExpression="&lt;% $target %>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide OA" label="Operational Actors" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="OperationalActor"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide Operational Capabilities" label="Operational Capabilities" precondition="&lt;%$elementView.filter(&quot;DDiagram&quot;).nSize() > 0%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="AbstractCapability"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide OE" label="Operational Entities" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="Entity"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Relationships" name="Show/Hide Relationships" label="Relationships" precondition="&lt;%$elementView.getDiagramContainer()!=$elementView &amp;&amp; (isA(&quot;Entity&quot;) || isA(&quot;AbstractCapability&quot;)) %>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                  <parameters name="context" value="&lt;% $element%>"/>
                  <parameters name="variable" value="scope"/>
                  <parameters name="value" value="&lt;% $element.getCapabilityDiagramScopeInsertRelationship($diagram)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectRelationships" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;%$scope%>"/>
                  <parameters name="initialSelection" value="&lt;%$diagram.getInitialSelection($scope)%>"/>
                  <parameters name="resultVariable" value="selectedRelationships"/>
                  <parameters name="wizardMessage" value="Select Relationships to show in &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedRelationships != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.showHideRelationshipInCapabilityDiagram($elementView, $selectedRelationships, $scope)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%> "/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Entities From Project Explorer" precondition="&lt;% $element.isA(&quot;Entity&quot;) &amp;&amp; $element.partitionableElementCanBeDropped($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@containerMappings[name='COC_OperationalEntities']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Operational Capabilities From Project Explorer" precondition="&lt;% $element.isA(&quot;OperationalCapability&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Capabilities%20Blank']/@defaultLayer/@nodeMappings[name='COC_OperationalCapabilities']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" forceRefresh="true" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:CrossTableDescription" name="Requirements - Operational Activities" preconditionExpression="&lt;%eContainer(&quot;BlockArchitecture&quot;).isA(&quot;OperationalAnalysis&quot;)%>" domainClass="RequirementsPkg">
      <ownedLineMappings name="Requirements" domainClass="NamedElement" semanticCandidatesExpression="&lt;%current%>" headerLabelExpression="&lt;%getRequirementElementLabel()%>">
        <ownedSubLines name="Sub Requirements" reusedSubLines="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements']" reusedInMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements%20Pkg'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements']" domainClass="NamedElement" semanticCandidatesExpression="&lt;%ownedRequirements%>" headerLabelExpression="&lt;%getRequirementElementLabel()%>">
          <delete name="No delete" precondition="false">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
          </delete>
        </ownedSubLines>
        <ownedSubLines name="Sub Requirements Pkg" reusedSubLines="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements%20Pkg']" reusedInMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements%20Pkg']" domainClass="NamedElement" semanticCandidatesExpression="feature:extended" headerLabelExpression="&lt;%getRequirementElementLabel()%>">
          <delete name="No delete" precondition="false">
            <variables name="element" documentation="The currently edited element."/>
            <variables name="root" documentation="The semantic element corresponding to the current table."/>
          </delete>
        </ownedSubLines>
        <delete name="No delete" precondition="false">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
        </delete>
      </ownedLineMappings>
      <ownedColumnMappings name="Functions" headerLabelExpression="feature:name" domainClass="NamedElement" semanticCandidatesExpression="&lt;%getRFColumnCandidates()%>">
        <delete name="No delete" precondition="false">
          <variables name="element" documentation="The currently edited element."/>
          <variables name="root" documentation="The semantic element corresponding to the current table."/>
        </delete>
      </ownedColumnMappings>
      <intersection name="Trace Function" semanticElements="&lt;%current+current.eContainer()%>" lineMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedLineMappings[name='Requirements']/@ownedSubLines[name='Sub%20Requirements']" columnMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Requirements%20-%20Operational%20Activities']/@ownedColumnMappings.0" labelExpression="&lt;%getRFLabel($lineSemantic, $columnSemantic)%>" useDomainClass="true" columnFinderExpression="feature:sourceElement" lineFinderExpression="feature:targetElement" semanticCandidatesExpression="&lt;%getRFColumnCandidates().outgoingTraces()[isA(&quot;RequirementsTrace&quot;)]%>" domainClass="RequirementsTrace">
        <directEdit>
          <variables name="table" documentation="The current DTable."/>
          <variables name="line" documentation="The DLine of the current DCell."/>
          <variables name="element" documentation="The currently edited element."/>
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic element of the table."/>
          <firstModelOperation xsi:type="tool:If" conditionExpression="&lt;%$0 == &quot;&quot;%>">
            <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
              <subModelOperations xsi:type="tool:RemoveElement"/>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </directEdit>
        <create name="TR6" precondition="&lt;%myDebug()%>" forceRefresh="true">
          <variables name="lineSemantic" documentation="The semantic element corresponding to the line."/>
          <variables name="columnSemantic" documentation="The semantic element corresponding to the column."/>
          <variables name="root" documentation="The semantic root element of the table."/>
          <firstModelOperation xsi:type="tool:ChangeContext" browseExpression="&lt;%$columnSemantic%>">
            <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%$0 == &quot;X&quot; &amp;&amp; $lineSemantic.incomingTraces[sourceElement==$columnSemantic].nSize()==0%>">
              <subModelOperations xsi:type="tool:CreateInstance" typeName="RequirementsTrace" referenceName="ownedTraces">
                <subModelOperations xsi:type="tool:SetValue" featureName="sourceElement" valueExpression="&lt;%$columnSemantic%>"/>
                <subModelOperations xsi:type="tool:SetValue" featureName="targetElement" valueExpression="&lt;%$lineSemantic%>"/>
              </subModelOperations>
            </subModelOperations>
          </firstModelOperation>
          <mask mask="{0}"/>
        </create>
      </intersection>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_2:DiagramDescription" name="Contextual Operational Capability" titleExpression="[COC] &lt;%current.name%>" domainClass="OperationalCapability">
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Constraints%20From%20Project%20Explorer']"/>
      <dropDescriptions href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Operational%20Capabilities%20From%20Project%20Explorer']"/>
      <dropDescriptions href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Entities">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Involvement Links">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_EntityCapabilityInvolvement']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Extends">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Extends']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Includes">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Include']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Operational Capability Generalizations">
        <filters xsi:type="filter:MappingFilter" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Generalization']"/>
      </filters>
      <filters xsi:type="filter:CompositeFilterDescription" name="Hide Property Values">
        <filters xsi:type="filter:MappingFilter">
          <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
          <mappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        </filters>
      </filters>
      <defaultLayer name="Default">
        <nodeMappings name="COC2_OperationalCapabilities" navigationDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Activity%20Scenario'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Entity%20Scenario'] //@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='Existing%20Contextual%20Operational%20Capabilty']" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" createElements="false" domainClass="OperationalCapability">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Activity%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Activity%20Scenario']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Interaction%20Scenario']/@defaultLayer/@toolSections.0/@ownedTools[name='Entity%20Scenario%20']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="#//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='Contextual%20Operational%20Capabilty']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Activity%20Interaction%20Blank']"/>
          <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/OperationalCapability.svg">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
          <conditionnalStyles predicateExpression="&lt;%current == $container%>">
            <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="service:capellaLabelService(view, diagram)" sizeComputationExpression="7" workspacePath="/org.polarsys.capella.core.sirius.analysis/description/images/OperationalCapability.svg">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <labelFormat>bold</labelFormat>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </style>
          </conditionnalStyles>
        </nodeMappings>
        <edgeMappings name="COC2_EntityCapabilityInvolvement" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" semanticCandidatesExpression="service:diagram.getMBCapabilityInvolvementSemanticCandidates" semanticElements="&lt;%self%>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']" targetFinderExpression="&lt;%involved%>" sourceFinderExpression="&lt;%involver%>" domainClass="EntityOperationalCapabilityInvolvement" useDomainElement="true">
          <style>
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC2_OC_Extends" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" semanticCandidatesExpression="service:diagram.getMBCapabilityExtendSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetFinderExpression="&lt;% extended %>" sourceFinderExpression="&lt;% extension %>" domainClass="AbstractCapabilityExtend" useDomainElement="true">
          <style lineStyle="dot">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&#xab; e &#xbb;">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC2_OC_Include" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" semanticCandidatesExpression="service:diagram.getMBCapabilityIncludeSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetFinderExpression="&lt;% included %>" sourceFinderExpression="&lt;% inclusion %>" domainClass="AbstractCapabilityInclude" useDomainElement="true">
          <style lineStyle="dot">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="&#xab; i &#xbb;">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="COC2_OC_Generalization" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" semanticCandidatesExpression="service:diagram.getMBCapabilityGeneralizationSemanticCandidates" semanticElements="&lt;% self %>" sourceMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetMapping="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" targetFinderExpression="&lt;% super %>" sourceFinderExpression="&lt;% sub %>" domainClass="AbstractCapabilityGeneralization" useDomainElement="true">
          <deletionDescription href="context.odesign#//@ownedViewpoints[name='System%20Analysis']/@ownedRepresentations[name='Contextual%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']"/>
          <style lineStyle="dot" targetArrow="InputClosedArrow">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings name="COC2_Entities" deletionDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Operational%20Entity%20Breakdown']/@defaultLayer/@toolSections.0/@ownedTools[name='capellaElement']" labelDirectEdit="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='OA%20COC%20Direct%20Edit%20Label']" createElements="false" domainClass="Entity" dropDescriptions="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@toolSections.0/@ownedTools[name='D%26D%20Entities%20From%20Project%20Explorer']" reusedContainerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']">
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Breakdown']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Entity%20Blank']"/>
          <detailDescriptions xsi:type="tool_1:DiagramCreationDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Capella%20Architecture']/@defaultLayer/@toolSections.0/@ownedTools[name='Operational%20Role%20Blank']"/>
          <style xsi:type="style:FlatContainerStyleDescription" borderSizeComputationExpression="1" labelExpression="service:capellaLabelService(view, diagram)" backgroundStyle="GradientTopToBottom">
            <borderColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_border']"/>
            <labelColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_label']"/>
            <backgroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray_min']"/>
            <foregroundColor xsi:type="description:UserFixedColor" href="common.odesign#//@userColorsPalettes[name='Migration%20Palette']/@entries[name='_CAP_Entity_Gray']"/>
          </style>
        </containerMappings>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
        <reusedMappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_PV']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVconnector']"/>
        <reusedMappings xsi:type="description_2:ContainerMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@containerMappings[name='DT_PVG']"/>
        <reusedMappings xsi:type="description_2:EdgeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_PVGconnector']"/>
        <toolSections name="tools">
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Entity" name="Operational Entity" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Entity.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="Entity" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerCreationDescription" documentation="Creates a new Operational Actor" name="Operational Actor" precondition="&lt;%!$container.isA(&quot;OperationalActor&quot;)%>" containerMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/OperationalActor.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$containerView.getOEBTarget()%>">
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;Entity&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                    </subModelOperations>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%!isA(&quot;Entity&quot;) &amp;&amp; !isA(&quot;EntityPkg&quot;)%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%getRootEntityPkg()%>">
                      <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalActor" referenceName="ownedEntities" variableName="entity">
                        <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Creates a new Operational Capability." name="Operational Capability" nodeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/CapabilityUseCase.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $container.eContainer %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="OperationalCapability" referenceName="ownedOperationalCapabilities" variableName="capa">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Creates a new Involvement relationship between a source Operational Capability and a target Operational Entity / Actor" name="Involvement" precondition="&lt;%!$preSource.ownedEntityOperationalCapabilityInvolvements.involved.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_EntityCapabilityInvolvement']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="EntityOperationalCapabilityInvolvement" referenceName="ownedEntityOperationalCapabilityInvolvements">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  <subModelOperations xsi:type="tool:SetValue" featureName="involved" valueExpression="&lt;%$target%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Operational Capability Extension relationship between the Source and Target Operational Capabilities." name="Extends" precondition="&lt;%!$preSource.extends.extended.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Extends']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Extend.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityExtend" referenceName="extends">
                  <subModelOperations xsi:type="tool:SetValue" featureName="extended" valueExpression="&lt;% $target %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Operational Capability Inclusion relationship between the Source and Target Operational Capabilities." name="Includes" precondition="&lt;%!$preSource.includes.included.nContains($preTarget)%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Include']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Include.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;% $source %>">
                <subModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityInclude" referenceName="includes">
                  <subModelOperations xsi:type="tool:SetValue" featureName="included" valueExpression="&lt;% $target %>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Create a new Operational Capability Generalization relationship between the Source and Target Super Operational Capabilities." name="Operational Capability Generalization" precondition="&lt;%!(getAllSuperCapabilities($preTarget).nContains($preSource)) &amp;&amp; eAllContents().filter(&quot;AbstractCapabilityGeneralization&quot;)[sub == $preSource &amp;&amp; super == $preTarget].nSize() == 0%>" edgeMappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@edgeMappings[name='COC2_OC_Generalization']" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Generalization.gif">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:CreateInstance" typeName="AbstractCapabilityGeneralization" referenceName="superGeneralizations">
                <subModelOperations xsi:type="tool:SetValue" featureName="super" valueExpression="&lt;% $target %>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide OA" label="Operational Actors" precondition="&lt;%$elementView.filter(&quot;DDiagram&quot;).nSize() > 0%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="OperationalActor"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide Operational Capabilities" label="Operational Capabilities" precondition="&lt;%$elementView.filter(&quot;DDiagram&quot;).nSize() > 0%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="AbstractCapability"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" name="Show/Hide OE" label="Operational Entities" precondition="&lt;%$elementView.filter(&quot;DDiagram&quot;).nSize() > 0%>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element">
              <subVariables xsi:type="tool:AcceleoVariable" name="semanticCandidate" computationExpression="Entity"/>
            </element>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericSelectElements%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% ! ($resultVariable== &quot;WIZARD_CANCELED&quot;) %>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.genericShowHideElements%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Insert/Remove Relationships" name="Show/Hide Relationships" label="Relationships" precondition="&lt;%$elementView.getDiagramContainer()!=$elementView &amp;&amp; (isA(&quot;Entity&quot;) || isA(&quot;AbstractCapability&quot;)) %>" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="setVariable" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SetVariable">
                  <parameters name="context" value="&lt;% $element%>"/>
                  <parameters name="variable" value="scope"/>
                  <parameters name="value" value="&lt;% $element.getCapabilityDiagramScopeInsertRelationship($diagram)%>"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectRelationships" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;%$scope%>"/>
                  <parameters name="initialSelection" value="&lt;%$diagram.getInitialSelection($scope)%>"/>
                  <parameters name="resultVariable" value="selectedRelationships"/>
                  <parameters name="wizardMessage" value="Select Relationships to show in &lt;%$element.name%>."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedRelationships != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element.showHideRelationshipInCapabilityDiagram($elementView, $selectedRelationships, $scope)%>"/>
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%> "/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramCreationDescription" name="Contextual Operational Capabilty" titleExpression="[COC] &lt;%current.name%>" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']">
            <initialOperation/>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DiagramNavigationDescription" name="Existing Contextual Operational Capabilty" diagramDescription="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']">
            <containerViewVariable name="containerView"/>
            <containerVariable name="container"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Entities From Project Explorer" precondition="&lt;% $element.isA(&quot;Entity&quot;) &amp;&amp; $element.partitionableElementCanBeDropped($newViewContainer) %>" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@containerMappings[name='COC2_Entities']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Operational Capabilities From Project Explorer" precondition="&lt;% $element.isA(&quot;OperationalCapability&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" mappings="//@ownedViewpoints[name='Operational%20Analysis']/@ownedRepresentations[name='Contextual%20Operational%20Capability']/@defaultLayer/@nodeMappings[name='COC2_OperationalCapabilities']" dragSource="PROJECT_EXPLORER">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:ContainerDropDescription" name="D&amp;D Constraints From Project Explorer" precondition="&lt;% $element.isA(&quot;Constraint&quot;) &amp;&amp; $element.canBeDropped($newViewContainer) %>" dragSource="PROJECT_EXPLORER">
            <mappings xsi:type="description_2:NodeMapping" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$element%>"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:DirectEditLabel" name="OA COC Direct Edit Label" inputLabelExpression="feature:name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:SetValue" featureName="name" valueExpression="&lt;%$0%>"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Common">
          <ownedTools xsi:type="tool_1:NodeCreationDescription" documentation="Create a new Constraint." name="Constraint" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/Constraint.gif">
            <nodeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@nodeMappings[name='DT_Contraint']"/>
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$container%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $containerView.filter(&quot;DDiagram&quot;).nSize() == 1 %>">
                  <subModelOperations xsi:type="tool:CreateInstance" typeName="Constraint" referenceName="ownedConstraints">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%creationService%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_1:EdgeCreationDescription" documentation="Allocate a Source Constraint to an available Target Capella Element." name="ConstraintElement" precondition="&lt;%!( $preSource.constrainedElements.nContains($preTarget))%>" forceRefresh="true" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ClassCarries.gif">
            <edgeMappings href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@edgeMappings[name='DT_ContrainedElements']"/>
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool:If" conditionExpression="&lt;%$source.filter(&quot;Constraint&quot;).nSize() == 1%>">
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() == 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                    <subModelOperations xsi:type="tool:MoveElement" newContainerExpression="&lt;%$target%>" featureName="ownedConstraints"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;% $source.constrainedElements.nSize() != 0%>">
                  <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$source%>">
                    <subModelOperations xsi:type="tool:SetValue" featureName="constrainedElements" valueExpression="&lt;%$target%>"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ToolDescription" documentation="Creates or deletes graphical objects corresponding to existing Constraints. Removing a Constraint graphical object does not delete this Constraint from the model. This tool does not modify the semantic model." name="Show/Hide Constraints" label="Constraints" iconPath="/org.polarsys.capella.core.sirius.analysis/icons/full/obj16/ShowHide.gif">
            <element name="element"/>
            <elementView name="elementView">
              <subVariables xsi:type="tool:AcceleoVariable" name="constraintsInDiagram" computationExpression="&lt;% getExistingConstraintsFromDiagram($elementView.getDiagramContainer())%>"/>
              <subVariables xsi:type="tool:AcceleoVariable" name="diagram" computationExpression="&lt;% $elementView.eContainer(&quot;DDiagram&quot;) %>"/>
            </elementView>
            <initialOperation>
              <firstModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView%>">
                <subModelOperations xsi:type="tool:ExternalJavaAction" name="selectedConstraints" id="org.polarsys.capella.core.sirius.analysis.actions.extensions.SelectLinksFromTransferWizard">
                  <parameters name="context" value="&lt;% $elementView%>"/>
                  <parameters name="scope" value="&lt;% getConstraintToInsertInDiagram() - $constraintsInDiagram%>"/>
                  <parameters name="initialSelection" value="&lt;%$constraintsInDiagram%>"/>
                  <parameters name="resultVariable" value="selectedConstraints"/>
                  <parameters name="wizardMessage" value="Select Constraints to show."/>
                </subModelOperations>
                <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%($selectedConstraints != &quot;WIZARD_CANCELED&quot;)%>">
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$selectedConstraints%>">
                    <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%createConstraintWithConstaintedElementInDiagram($i,$diagram,$constraintsInDiagram,true)%>"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool:For" expression="&lt;%$constraintsInDiagram%>">
                    <subModelOperations xsi:type="tool:If" conditionExpression="&lt;%! $selectedConstraints.nContains($i)%>">
                      <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().getNodesAndNodeListElements()[target == $i]%>">
                        <subModelOperations xsi:type="tool:DeleteView"/>
                      </subModelOperations>
                    </subModelOperations>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool:ChangeContext" browseExpression="&lt;%$elementView.getDiagramContainer().forceRefresh%>"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <reusedTools xsi:type="tool_1:ToolGroup" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='PV']"/>
          <reusedTools xsi:type="tool_1:ContainerDropDescription" href="common.odesign#//@ownedViewpoints[name='Common']/@ownedRepresentations[name='Class%20Diagram%20Blank']/@defaultLayer/@toolSections.1/@ownedTools[name='D%26D%20PV%20From%20Project%20Explorer']"/>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.CapellaServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.FunctionalChainServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sequencediag.ScenarioService"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sequencediag.InteractionAspectService"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.OAServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sequencediag.ScenarioContraintsService"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.SequenceDiagramServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.FaServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.RequirementServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.CsServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.DiagramServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.DFServices"/>
    <ownedJavaExtensions qualifiedClassName="org.polarsys.capella.core.sirius.analysis.ABServices"/>
  </ownedViewpoints>
</description:Group>
